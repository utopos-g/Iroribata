{:version=>3, :sections=>[{:offset=>{:line=>0, :column=>0}, :map=>{:version=>3, :sourceRoot=>"", :sources=>["bcdice/game_system/DemonParasite.rb"], :sourcesContent=>["# frozen_string_literal: true\n\nmodule BCDice\n  module GameSystem\n    class DemonParasite < Base\n      # ゲームシステムの識別子\n      ID = 'DemonParasite'\n\n      # ゲームシステム名\n      NAME = 'デモンパラサイト'\n\n      # ゲームシステム名の読みがな\n      SORT_KEY = 'てもんはらさいと'\n\n      # ダイスボットの使い方\n      HELP_MESSAGE = <<~INFO_MESSAGE_TEXT\n        ・衝動表　(URGEx)\n        　\"URGE衝動レベル\"の形で指定します。\n        　衝動表に従って自動でダイスロールを行い、結果を表示します。\n        　ダイスロールと同様に、他のプレイヤーに隠れてロールすることも可能です。\n        　頭に識別文字を追加して、デフォルト以外の衝動表もロールできます。\n        　・NURGEx　頭に「N」を付けると「新衝動表」。\n        　・AURGEx　頭に「A」を付けると「誤作動表」。\n        　・MURGEx　頭に「M」を付けると「ミュータント衝動表」になります。\n        　・UURGEx　頭に「U」が付くと鬼御魂の戦闘外衝動表。\n        　・CURGEx　頭に「C」で鬼御魂の戦闘中衝動表になります。\n        例）URGE1　　　urge5　　　Surge2\n        ・D66ダイスあり\n      INFO_MESSAGE_TEXT\n\n      register_prefix('[NAMUC]?URGE')\n\n      def initialize(command)\n        super(command)\n\n        @sort_add_dice = true\n        @d66_sort_type = D66SortType::NO_SORT\n      end\n\n      # ゲーム別成功度判定(nD6)\n      def result_nd6(_total, _dice_total, dice_list, _cmp_op, target)\n        if dice_list.count(1) >= 2 # １の目が２個以上ならファンブル\n          Result.fumble(\"致命的失敗\")\n        elsif dice_list.count(6) >= 2 # ６の目が２個以上あったらクリティカル\n          Result.critical(\"効果的成功\")\n        elsif target == \"?\"\n          Result.nothing\n        end\n      end\n\n      def eval_game_system_specific_command(command)\n        return get_urge(command)\n      end\n\n      # 衝動表\n      def get_urge(string)\n        m = /([NAMUC])?URGE\\s*(\\d+)/i.match(string)\n        unless m\n          return '1'\n        end\n\n        initialWord = m[1]\n        urgelv = m[2].to_i\n\n        case initialWord\n        when nil\n          title = \"衝動表\"\n          urge = URGE_TABLE\n        when \"N\"\n          title = \"新衝動表\"\n          urge = NEW_URGE_TABLE\n        when \"A\"\n          title = \"誤作動表\"\n          urge = MALFUNCTION_TABLE\n        when \"M\"\n          title = \"ミュータント衝動表\"\n          urge = MUTANT_TABLE\n        when \"U\"\n          title = \"鬼御魂(戦闘外)衝動表\"\n          urge = ONIMITAMA_OUT_OF_BATTLE_TABLE\n        when \"C\"\n          title = \"鬼御魂(戦闘中)衝動表\"\n          urge = ONIMITAMA_BATTLE_TABLE\n        else\n          # あり得ない文字\n          return '1'\n        end\n\n        if urgelv < 1 || urgelv > 5\n          return '衝動段階は1から5です'\n        end\n\n        dice_now = @randomizer.roll_sum(2, 6)\n\n        resultText = urge[urgelv - 1][dice_now - 2]\n\n        return \"\#{title}\#{urgelv}-\#{dice_now}:\#{resultText}\"\n      end\n\n      # 衝動表\n      URGE_TABLE = [\n        [\n          '『怒り』突然強い怒りに駆られる。近くの対象に(非暴力の)怒りを全力でぶつける。このターンの終了まで「行動不能」となる。[経験値20点]',\n          '『絶叫』寄生生物が体内で蠢く。その恐怖に絶叫。このターンの終了まで「行動不能」となる。[経験値10点]',\n          '『悲哀』急に悲しいことを思い出して動きが止まる。このターンの終了まで「行動不能」となる。[経験値10点]',\n          '『微笑』可笑しくてしょうがない。くすくす笑いが止まらず、このターンの終了まで「行動不能」となる。[経験値10点]',\n          '『鈍感』衝動に気が付かなかった。何も起こらない。[経験値0点]',\n          '『抑制』衝動を抑え込んだ。何も起こらない。[経験値0点]',\n          '『我慢』衝動を我慢した。何も起こらない。[経験値0点]',\n          '『前兆』悪魔的特徴が一瞬目立つ。１ターン(10秒)持続。変身中なら影響なし。[経験値10点]',\n          '『発現』悪魔的特徴が急に目立つ。60ターン(10分)持続。変身中なら影響なし。[経験値10点]',\n          '『変化』利き腕/前脚が２ターン(20秒)かけて悪魔化する。18ターン(3分)持続。変身中なら影響なし。[経験値20点]',\n          '『顕現』利き腕/前脚が瞬時に悪魔化。60ターン(10分)持続。変身中なら影響なし。[経験値20点]',\n        ],\n        [\n          '『茫然』思考が止まり、このターンの終了まで「攻撃」行動を行えない。回避行動に影響はない。[経験値20点]',\n          '『激怒』側にいるもの(生物、物体問わず)が憎く、殴る。変身後ならば次のターンの終了まで、すべての命中判定+5、回避判定-5。[経験値20点]',\n          '『残忍』殺意、破壊衝動が一瞬増す。戦闘中ならば次のターンに行われる「攻撃」行動の達成値に+5。[経験値20点]',\n          '『落涙』過去の悲しい想い出が去来し、涙が溢れる。１ターン(10秒)「通常」行動を行えない。回避行動に影響はない。[経験値10点]',\n          '『抑制』衝動を抑え込んだ。何も起こらない。[経験値0点]',\n          '『我慢』衝動を我慢した。何も起こらない。[経験値0点]',\n          '『忍耐』肉体を傷つけて衝動に耐えた。５ダメージ。[経験値10点]',\n          '『辛抱』ほんの一瞬、全身が変身しかかる。無理に抑えたので、５ダメージ。変身中なら影響なし。[経験値10点]',\n          '『異貌』３ターン(30秒)かけて顔が変身する。18ターン(3分)持続。変身中なら影響なし。[経験値20点]',\n          '『苦痛』寄生生物が体内で暴れ、痛みにのけぞる。10ダメージ。[経験値20点]',\n          '『変貌』変身後の(特異な)外見的特徴が３ターン(30秒)かけて現れる。18ターン(3分)持続。変身中なら影響なし。[経験値20点]',\n        ],\n        [\n          '『憤怒』怒りに全身が満たされる。次のターンの終了まで、すべてのダメージのサイコロを+1個する。[経験値20点]',\n          '『加速』ほとばしる衝動により。次のターンは【行動値】が２倍になる。[経験値20点]',\n          '『発露』力が溢れ出る。次のターンの終了まで、すべてのダメージに+5、防御点-5(最低0)される。[経験値20点]',\n          '『乾き』攻撃衝動を抑えられない。次のターンの終了まで全ての命中判定+5、回避判定-5。[経験値10点]',\n          '『絶叫』あらん限りの声で叫ぶ。このターンの終了まで、全ての回避判定に-10。[経験値10点]',\n          '『我慢』衝動を我慢した。何も起こらない。[経験値0点]',\n          '『限界』衝動を無理矢理抑え込む。あちこちの血管が破裂し、10ダメージ。[経験値10点]',\n          '『解放』衝動に耐えられず変身が始まる。３ターン(30秒)かけて変身。変身中なら影響なし。[経験値10点]',\n          '『本能』衝動に駆られ、瞬時に変身。次のターン、目の前の動くものを敵味方区別無く攻撃する。[経験値20点]',\n          '『保身』次のターンの終了まで、敵を攻撃できない。全ての防御力に+5。[経験値20点]',\n          '『救済』悪魔寄生体が危機を察知し、【エナジー】を20点回復する。[経験値20点]',\n        ],\n        [\n          '『癒し』衝動を１点使った回復を行う。[経験値20点]',\n          '『離脱』その場から逃げ出す。逃げられない場合は、うずくまって動けなくなる。１ターン(10秒)経過すれば我に返る。[経験値20点]',\n          '『脱力』急に力が抜ける。次のターンの終了まで、全ての判定に-5される。[経験値20点]',\n          '『全力』激しい躁状態。次のターンの終了まで、命中判定に+10、回避判定に-10[経験値20点]',\n          '『混沌』意味のある言葉を話せなくなる。１時間持続する。[経験値10点]',\n          '『限界』衝動を無理矢理抑え込む。あちこちの血管が破裂し、10ダメージ。[経験値10点]',\n          '『本能』衝動に駆られ、瞬時に変身。次のターン、目の前の動くものを敵味方区別無く攻撃する。[経験値20点]',\n          '『焦燥』焦りから「転倒」する。[経験値20点]',\n          '『猜疑』味方が急に敵に思える。即座に近くの味方に一回攻撃し、自動命中となる。いなければ影響なし。[経験値20点]',\n          '『自虐』自分が許せない。自分へ攻撃(自動命中。ダメージは通常)。[経験値20点]',\n          '『自浄』少し我に返る。衝動が２点回復する。[経験値20点]',\n        ],\n        [\n          '『絶望』自殺を試みる。変身中ならば最強の攻撃(特殊能力等を使用しての攻撃)を自分へ与える。[経験値30点]',\n          '『賛美』敵(複数いる場合はリーダー格)を主と思いこむ。主が倒されるか、このターンの終了まで主の命令を聞く。[経験値30点]',\n          '『拒絶』変身が解除される。変身していなければ影響なし。[経験値20点]',\n          '『飢餓』近くの無防備な対象を喰らおうとする。邪魔する物は敵として攻撃する。次ターンの終了時に我に返る。[経験値20点]',\n          '『暗闇』視神経に影響が出る。以後１日「暗闇」になる。[経験値20点]',\n          '『混乱』意味のある言葉を話せなくなる。１時間持続する。[経験値20点]',\n          '『嫉妬』仲間に猛烈な嫉妬を覚える。即座に一番近くの味方を攻撃。判定は自動的に効果的成功となる。いなければ影響なし。[経験値20点]',\n          '『暴君』自分が最強に思えてしかたがない。60ターン(10分)攻撃判定の達成値に+10、回避判定の達成値は-10。[経験値20点]',\n          '『無双』全力だが無防備。60ターン(10分)、全てのダメージに+10、防御点0、【行動値】0。[経験値20点]',\n          '『定着』変身していなければ、即座に変身。肉体が変身に馴染んでしまう。24時間、変身が解除されなくなる。[経験値30点]',\n          '『眠り』猛烈な睡魔に襲われる。60ターン(10分)、もしくは戦闘終了まで起こしても起きない。[経験値30点]',\n        ]\n      ].freeze\n\n      # 新衝動表\n      NEW_URGE_TABLE = [\n        [\n          '『開眼』潜在能力が発揮される。10分間、あらゆる戦闘以外の判定に+5。',\n          '『集中』感覚が研ぎ澄まされる。次のターンの終了まで、射撃の命中判定に+5。',\n          '『迅速』運動神経が上昇する。20分間、戦闘以外の【機敏】判定に+5。',\n          '『怪力』怪力を発揮する。20分間、戦闘以外の【肉体】判定に+5。',\n          '『鈍感』衝動に気が付かない。何も起こらない。',\n          '『抑制』衝動を抑え込む。何も起こらない。',\n          '『我慢』衝動を我慢する。何も起こらない。',\n          '『無心』冷静になる。20分間、戦闘以外の【精神】判定に+5。',\n          '『解放』感覚が解放される。20分間、戦闘以外の【感覚】判定に+5。',\n          '『攻撃』攻撃の姿勢を取る。次のターンの終了まで、すべてのダメージが+5。',\n          '『防御』防御の姿勢を取る。このターンの終了まで、すべての防御力が+5。',\n        ],\n        [\n          '『敵視』激しい攻撃本能に駆られる。次のターンの終了まで、肉弾ダメージ+10。',\n          '『忘我』怒りに痛みを忘れる。エナジー5点回復。',\n          '『閃き』頭が冴える。20分間、戦闘以外の【知力】判定に+5。',\n          '『全力』筋肉のリミッターが一時的にはずれる。次のターンの終了まで、肉弾ダメージに+5。',\n          '『抑制』衝動を抑え込む。何も起こらない。',\n          '『我慢』衝動を我慢する。何も起こらない。',\n          '『反射』反射神経が研ぎ澄まされる。次のターンの終了まで、射撃の回避判定に+5。',\n          '『機転』わずかなチャンスを見逃さなくなる。20分間、戦闘以外の【幸運】判定に+5。',\n          '『耐性』精神力が上昇する。次のターンの終了まで、特殊防御力+5。',\n          '『怒り』敵に対する怒りにとらわれる。次のターンの終了まで、肉弾の命中判定に+10。',\n          '『活発』明るく活発になる。戦闘終了まで【行動値】+5。',\n        ],\n        [\n          '『漲り』体の奥底から力がみなぎってくる。エナジー10点回復。',\n          '『分析』相手の動きを冷静に分析できるようになる。5ターンの間、射撃ダメージに+10。',\n          '『慈愛』万人に対して慈愛を感じるようになる。5ターンの間、回復に振るダイスが+1d。',\n          '『慎重』敵の攻撃に慎重になる。次のターンの終了まで、すべての回避判定に+5。',\n          '『本能』攻撃本能がむき出しになる。5ターンの間、特殊の命中判定に+5。',\n          '『性急』気が早くなる。次のターンの終了まで、【行動値】に+3',\n          '『凶暴』イライラが止まらなくなる。5ターンの間、肉弾の命中判定に+5。',\n          '『楽観』気分がリラックスする。エナジー5点回復。',\n          '『自閉』自分の殻に閉じこもろうとする。5ターンの間、特殊防御力に+5。',\n          '『反射』敵の攻撃に即座に反応できる。5ターンの間、肉弾の回避判定に+10。',\n          '『快感』快感を覚える。衝動が1点回復する。',\n        ],\n        [\n          '『情熱』激しい情熱が噴き出してくる。エナジー10点と衝動1点回復。',\n          '『気合』体中に気合いが入る。10ターンの間、すべてのダメージに+10。',\n          '『加速』体中の神経が加速する。10ターンの間、すべての命中判定に+10。',\n          '『利己』考え方が利己的になる。10ターンの間、特殊の命中判定に+10。',\n          '『頑強』肉体が鋼のように強くなる。10ターンの間、肉弾防御力に+5。',\n          '『察知』相手の動きを察知できる。10ターンの間、射撃防御力に+5。',\n          '『殺意』激しい殺意にとらわれる。10ターンの間、特殊ダメージに+10。',\n          '『静観』心が落ち着き冷静になる。10ターンの間、射撃の回避判定に+5。',\n          '『是空』頭が冴えて敵の行動が読める。10ターンの間、すべての回避判定に+5。',\n          '『心眼』心の目で相手の行動を読める。5ターンの間、射撃の回避判定に+10。',\n          '『自愛』何をおいても自分が愛しく思える。5ターンの間、特殊の回避判定に+10。',\n        ],\n        [\n          '『神速』人知を超えたスピードに目覚める。戦闘終了まで「通常」行動を２回行えるようになる。',\n          '『流水』超感覚に目覚める。10ターンの間、すべての回避判定に+10。',\n          '『覚醒』肉体の回復力が限界突破。エナジー20点回復。',\n          '『忍耐』あらゆる苦痛に耐える鋼の精神が宿る。10ターンの間、すべての防御力に+5。',\n          '『予知』第六感が研ぎ澄まされる。10ターンの間、射撃の命中とダメージに+10。',\n          '『豪傑』身体能力が限界を超えて上昇する。10ターンの間、肉弾の命中とダメージに+10。',\n          '『殺気』猛烈な殺意がみなぎる。10ターンの間、特殊の命中判定とダメージに+10。',\n          '『発動』反射神経が飛躍的に加速される。10ターンの間、【行動値】+10。',\n          '『激情』激しい感情があふれ出す。10ターンの間、すべてのダメージに+10。',\n          '『超人』運動神経が飛躍的に加速される。10ターンの間、すべての命中判定に+15。',\n          '『悟り』心が解放され無我の境地に達する。衝動が３点回復する',\n        ]\n      ].freeze\n\n      # 誤作動表\n      MALFUNCTION_TABLE = [\n        [\n          '『緊急停止』機能に異常発生。次のターンの終了まで、「行動不能」になる。[30点]',\n          '『動力不調』動力装置に異常発生。このターンの終了時まで、「行動不能」になる。[30点]',\n          '『腕部停止』腕部機構に異常発生。このターンの終了時まで、「タイミング：攻撃」が行えない。[20点]',\n          '『脚部停止』脚部機構に異常発生。このターンの終了時まで、あらゆる「移動」を行えない。[20点]',\n          '『機能制動』機能が一瞬停止するが、影響なし。[10点]',\n          '『不良調整』機能に違和感。影響なし。[10点]',\n          '『機能安定』機能が安定した。影響なし。[10点]',\n          '『機能暴発』直前に使用した《兵装》がこのターンの終了時まで使用不能。未使用なら影響なし。[20点]',\n          '『離脱機能』機能の異常発生。行動を消費することなく、即座に敵から「移動(全力)」で離れる。[20点]',\n          '『排熱暴走』排熱機能に異常発生。次のターン終了時まで「着火」状態となる。[30点]',\n          '『作動予測』次に起きる誤作動を予測できる。「第2限界点」に達したとき、「作動予測」以外の任意の誤作動を選択できる。[30点]',\n        ],\n        [\n          '『安全機能』安全機能が作動。このターンの終了時まで、あらゆる判定に-5。[40点]',\n          '『筋肉萎縮』人工筋肉に異常発生。次のターン終了時まで、【肉体】判定に-2。[30点]',\n          '『出力低下』駆動部に異常発生。次のターンの終了時まで、【機敏】判定に-2。[30点]',\n          '『感覚異常』視界機能に異常発生。次のターンの終了時まで、【感覚】判定に-2。[20点]',\n          '『視界不良』視界機能に異常発生。次のターンの終了時まで、【幸運】判定に-2。[20点]',\n          '『機能制動』機能が一瞬停止するが、影響なし。[10点]',\n          '『不良調整』機能に違和感。影響なし。[10点]',\n          '『援護不通』援護ソフトが誤作動。次のターンの終了時まで、【知力】判定-2。[20点]',\n          '『発声変調』発声機能に異常発生。次のターンの終了時まで、【精神】判定-2。[30点]',\n          '『装甲軟化』防御機構に異常発生。あらゆる防御力に-5。[30点]',\n          '『作動予測』次に起きる誤作動を予測できる。「第3限界点」に達したとき、「作動予測」以外の任意の誤作動を選択できる。[40点]',\n        ],\n        [\n          '『動力漏電』動力から漏電。『負荷』が2点上昇。[40点]',\n          '『駆動異常』脚部に異常発生。次のターンの終了時まで、「移動」距離半減。[40点]',\n          '『足下転倒』バランサーに異常発生。「転倒」状態となる。[30点]',\n          '『出力向上』《兵装》機能が向上。次のターンの終了時まで、特殊ダメージに+1d点。[30点]',\n          '『機能制動』機能が一瞬停止するが、影響なし。[20点]',\n          '『機能暴走』攻撃機能が暴走し、戦闘能力が上昇。「着火」状態になるが、あらゆるダメージに+10。[20点]',\n          '『身体向上』格闘機能が向上。次のターンの終了時まで、肉弾ダメージに+1d点。[30点]',\n          '『反射向上』反応速度が向上。次のターンの終了時まで、【行動値】が+5。[30点]',\n          '『精度向上』標準機能が向上。次のターンの終了時まで、射撃ダメージに+1d点。[30点]',\n          '『電子賦活』電磁障壁が突如回復。【電力】が10点回復する。[30点]',\n          '『作動予測』次に起きる誤作動を予測できる。「第4限界点」に達したとき、「作動予測」以外の任意の誤作動を選択できる。[40点]',\n        ],\n        [\n          '『照準誤認』照準機能に異常発生。即座に最も近い味方を全力攻撃。[50点]',\n          '『攻撃特化』攻撃機能が上昇。次のターン終了時まで、あらゆるダメージに+2dされるが「タイミング：防御」を行えない。[40点]',\n          '『機内窒息』呼吸補助機能に異常発生。次のターン終了時まで、「窒息」状態。[40点]',\n          '『機能増強』全機能が飛躍的に向上。次のターン終了時まで、《兵装》のコストを払わなくて良い。[30点]',\n          '『音声遮断』聴覚機能に異常発生。次のターン終了時まで、一切の物音が聞こえず、あらゆる回避判定に-5。[30点]',\n          '『電流加速』電磁障壁が効率的に流れる。『負荷』が1点回復。[20点]',\n          '『精密射撃』照準の精度が向上。あらゆるダメージに+5点。[30点]',\n          '『電力浪費』電磁障壁が過剰に使用される。【電力】が10点減少。[30点]',\n          '『荷電暴走』【電力】を5点消費するが、次のターン終了時まで、あらゆるダメージに+10点。[40点]',\n          '『状況分析』視界機能が向上。あらゆる命中判定に+5。[40点]',\n          '『作動予測』次に起きる誤作動を予測できる。「第5限界点」に達したとき、「作動予測」以外の任意の誤作動を選択できる。[50点]',\n        ],\n        [\n          '『出力過剰』全出力が過剰。次のターン終了時まで、あらゆるダメージの総計が2倍になるが《兵装》のコストも2倍になる。[50点]',\n          '『機関暴走』放熱機能が暴走。自分を中心に半径5m以内すべての対象を「着火」状態にする。[50点]',\n          '『機体清冽』機能異常から復帰。「気絶」「死亡」を除く、あらゆる状態変化がすべて消滅。[40点]',\n          '『鉄壁装甲』防御機能が向上。次のターン終了時まで、あらゆる防御力に+5。[30点]',\n          '『緊急駆動』回避機能が向上。次のターン終了時まで、あらゆる回避判定に+5。[30点]',\n          '『出力増大』装備補助機能が向上。次のターン終了時まで、「所持品」あるいは《兵装》を使用したダメージ総計が2倍になる。[30点]',\n          '『機体加速』運動機能が暴走。次のターン終了時まで、【行動値】が2倍となる。[30点]',\n          '『自動追尾』自動追尾機能が発動。次のターン終了時まで、あらゆる命中値に+5。[40点]',\n          '『限定解除』全機能の限界を解除。次のターン終了時まで、あらゆるダメージに+10。[50点]',\n          '『負荷軽減』急激に機体の負荷が低下。『負荷』が2点回復する。[50点]',\n          '『複合反応』この表を2回振る。ただし、同じ結果が出た場合は適用するのは一度だけ。獲得経験値は累積する。[0点]',\n        ]\n      ].freeze\n\n      # ミュータント衝動表\n      MUTANT_TABLE = [\n        [\n          '『怒り』突然強い怒りに駆られる。近くの対象にあたりちらす。このターンの終了まで「行動不能」となる。[20点]',\n          '『絶叫』悪魔寄生体が蠢きだす。その恐怖に絶叫。このターンの終了まで「行動不能」となる。[10点]',\n          '『悲哀』急に悲しいことを思い出す。このターンの終了まで「行動不能」となる。[10点]',\n          '『微笑』可笑しくてしょうがない。くすくす笑いが止まらず、このターンの終了まで「行動不能」となる。[10点]',\n          '『鈍感』衝動に気が付かなかった。何も起こらない。[0点]',\n          '『抑制』衝動を抑え込んだ。何も起こらない。[0点]',\n          '『我慢』衝動を我慢した。何も起こらない。[0点]',\n          '『前兆』悪魔的特徴が一瞬目立つ。１ターン(10秒)持続。《擬態変化》を解いているなら影響なし。[10点]',\n          '『発現』悪魔的特徴が急に目立つ。60ターン(10分)持続。《擬態変化》を解いているなら影響なし。[10点]',\n          '『解除』利き腕/前脚の《擬態変化》が２ターン(20秒)かけて解除される。18ターン(3分)持続。《擬態変化》を解いているなら影響なし。[20点]',\n          '『顕現』利き腕/前脚の《擬態変化》が瞬時に解除。60ターン(10分)持続。《擬態変化》を解いているなら影響なし。[20点]',\n        ],\n        [\n          '『茫然』思考が止まり、このターンの終了まで「攻撃」行動を行えない。その他の行動は影響なし。[20点]',\n          '『激怒』側にいるもの(生物、物体問わず)が憎くなり、殴る。《擬態変化》を解いているならば次のターンの終了まで、すべての命中判定+5、回避判定-5。[20点]',\n          '『残忍』殺意、破壊衝動が一瞬増す。戦闘中ならば次のターンに行われる「攻撃」行動の達成値に+5。[20点]',\n          '『落涙』過去の悲しい想い出が去来し、涙が溢れる。１ターン(10秒)「通常」行動を行えない。その他の行動に影響はない。[10点]',\n          '『抑制』衝動を抑え込んだ。何も起こらない。[0点]',\n          '『我慢』衝動を我慢した。何も起こらない。[0点]',\n          '『忍耐』肉体を傷つけて衝動に耐えた。5点ダメージ。[10点]',\n          '『辛抱』ほんの一瞬、《擬態変化》が解けかかる。無理に抑えたので5点ダメージ。《擬態変化》を解いているなら影響なし。[10点]',\n          '『異貌』３ターン(30秒)かけて《擬態変化》が解除される。18ターン(3分)持続。《擬態変化》を解いているなら影響なし。[20点]',\n          '『苦痛』寄生生物が体内で暴れ狂う。10点ダメージ。[20点]',\n          '『変貌』特異な外見的特徴が３ターン(30秒)かけて現れる。18ターン(3分)持続。《擬態変化》を解いているなら影響なし。[20点]',\n        ],\n        [\n          '『憤怒』怒りに全身が満たされる。次のターンの終了まで、すべてのダメージを+1d点する。[20点]',\n          '『加速』ほとばしる衝動により。次のターンは【行動値】が２倍になる。[20点]',\n          '『発露』力が溢れ出る。次のターンの終了まで、すべてのダメージに+5、防御点-5(最低0)される。[20点]',\n          '『乾き』攻撃衝動を抑えられない。次のターンの終了まで全ての命中判定+5、回避判定-5。[10点]',\n          '『絶叫』あらん限りの声で叫ぶ。このターンの終了まで、あらゆる回避判定に-10。[10点]',\n          '『我慢』衝動を我慢した。何も起こらない。[0点]',\n          '『限界』衝動を無理矢理抑え込む。10点ダメージ。[10点]',\n          '『解放』衝動に耐えられず擬態が解ける。３ターン(30秒)かけて解除。《擬態変化》を解いているなら影響なし。[10点]',\n          '『本能』衝動に駆られ、《擬態変化》が瞬時に解除。次のターンは、目の前の動くものを敵味方区別無く攻撃する。[20点]',\n          '『保身』次のターンの終了まで、敵を攻撃できない。全ての防御力に+5。[20点]',\n          '『救済』悪魔寄生体が危機を察知し、【エナジー】を20点回復する。[20点]',\n        ],\n        [\n          '『癒し』【エナジー】が即座に3d点回復。[20点]',\n          '『離脱』その場から逃げ出す。逃げられない場合は、うずくまって動けなくなる。１ターン(10秒)経過すれば我に返る。[20点]',\n          '『脱力』急に力が抜ける。次のターンの終了まで、全ての判定に-5される。[20点]',\n          '『全力』激しい躁状態。次のターンの終了まで、命中判定に+10、回避判定に-10。[20点]',\n          '『混沌』1時間の間、意味のある言葉を話せなくなる。[10点]',\n          '『争乱』体内で共生生物同士が争い、暴れ回る。衝動が1点増える。[10点]',\n          '『本能』衝動に駆られ、《擬態変化》が瞬時に解除。次のターン、目の前の動くものを敵味方区別無く攻撃する。[20点]',\n          '『焦燥』焦りから「転倒」する。[20点]',\n          '『猜疑』味方が急に敵に思える。即座に近くの味方に1回攻撃(自動命中。ダメージは通常)。いなければ影響なし。[20点]',\n          '『自虐』自分が許せない。自分へ素手攻撃(自動命中。ダメージは通常)。[20点]',\n          '『自浄』少し我に返る。衝動が2点回復する。[20点]',\n        ],\n        [\n          '『絶望』無力感にさいなまれる。次のターンの終了時まで「行動不能」となる。[30点]',\n          '『眠り』猛烈な睡魔に襲われる。60ターン(10分)、もしくは戦闘終了まで起こしても起きない。[30点]',\n          '『誤動』突然《擬態変化》が使用され、人間の姿になる(衝動も通常通り使用する)。既に使用していた場合は変化無し。[20点]',\n          '『暗闇』視神経に影響が出る。以後1日「暗闇」になる。[20点]',\n          '『再生』共生生物が危機を察知し、【エナジー】を10点回復する。[20点]',\n          '『混乱』1時間の間、意味のある言葉を話せなくなる。[20点]',\n          '『硬化』急に体が硬直する。このターンの終了時まで、あらゆる命中判定に-10、防御力に+10。[20点]',\n          '『暴君』自分が最強に思えてしかたがない。60ターン(10分)攻撃判定に+10、回避判定に-10。[20点]',\n          '『無双』全力だが無防備。60ターン(10分)、全てのダメージに+10、防御点と【行動値】は0。[20点]',\n          '『喪失』《擬態変化》が使用中なら、即座に解除。さらに24時間、《擬態変化》が使えなくなる。[30点]',\n          '『進化』共生生物たちが上手く混じって身体能力が向上する。次の判定の達成値+10。[30点]',\n        ]\n      ].freeze\n\n      # 鬼御魂(戦闘外)衝動表\n      ONIMITAMA_OUT_OF_BATTLE_TABLE = [\n        [\n          '『恐怖』恐怖の感情が爆発し、目に映るすべてが恐ろしくなる。[20点]',\n          '『落涙』過去の悲しい思い出が去来し、涙が溢れる。[10点]',\n          '『哄笑』突如として精神が高揚し、狂ったように笑う。[10点]',\n          '『咆哮』<和魂>によって怒りが増し、突如として雄たけびを上げる。[10点]',\n          '『抑制』衝動を完全に律する。何も起こらない。[0点]',\n          '『沈静』穏やかな気分になる。[0点]',\n          '『理性』衝動を理性で押さえ込む。何も起こらない。[0点]',\n          '『破裂』衝動を押さえ込もうとして体内の欠陥が破裂、喀血する。[10点]',\n          '『喪失』一瞬、〈和魂〉の神通力が失われる。[10点]',\n          '『枯渇』吸血への渇望が押さえられず、一般人を血走った目で見つめる。[10点]',\n          '『内包』凄まじい勢いで体内に妖気が内包され、力が増す。[20点]',\n        ],\n        [\n          '『飢餓』突然の吸血衝動。一般人を猛烈に襲いたくなる。[20点]',\n          '『封印』妖気を操作できず、1分間《特殊能力》を使用できない。[20点]',\n          '『拒絶』情緒が不安定となり、味方が急に怖くなる。[20点]',\n          '『拡散』突如として全身から妖気が噴出、目の前の対象を吹き飛ばす。[10点]',\n          '『抑制』衝動を完全に律する。なにも起こらない。[0点]',\n          '『治癒』疲れが癒される。[0点]',\n          '『本能』暴力衝動に駆られ、瞬時に\"異形化\"してしまう。[10点]',\n          '『破砕』破壊衝動が巻き起こり、目の前の障害物を破壊する。[20点]',\n          '『悪寒』突如として悪寒が走り、物事に集中できなくなる。',\n          '『心傷』突如としてトラウマを思い出し、立ちつくす。[20点]',\n          '『回想』過去の思い出が去来、活力がみなぎる。[30点]',\n        ],\n        [\n          '『不動』妖気が全身を駆け巡り、激痛によって動けなくなる。[20点]',\n          '『脱力』突如として妖気が衰え、脱力のあまり膝をつく。[20点]',\n          '『異形』瞬時にして犬歯が肥大し、目が紅く、邪悪に輝く。[20点]',\n          '『精密』突如として視界が広がり、目視せずとも背後の風景や人物を見通せる。[10点]',\n          '『獰猛』突如として怒りの感情が湧き起こり、目前の対象を罵倒する。[0点]',\n          '『高揚』〈和魂〉の影響により精神が高揚、躁状態となる。[0点]',\n          '『憎悪』突如として憎悪が沸き起こり、目前の対象に掴みかかる。[0点]',\n          '『加速』全身に妖気が駆け巡り、反射速度が増し、10秒を1分のように感じる。[10点]',\n          '『平穏』精神に変調が起こり、異常なほど理性的になる。[20点]',\n          '『慈愛』あらゆる者に自愛を抱き、親身に接する。[20点]',\n          '『支配』一瞬〈和魂〉を完全支配、次に行う戦闘外の判定を1回だけ効果的成功する。[20点]',\n        ],\n        [\n          '『変質』突如として妖気が変質、半径5mにわたって透明な壁を展開する。[30点]',\n          '『増強』妖気によって身体能力が増強され、10分間[運動]上級を取得する。[20点]',\n          '『拡大』妖気が目視できるほど両腕から発散、20m先の物体を操作できる。[20点]',\n          '『清浄』妖気を開放、<鬼御魂>を持たない半径10m内全ての生物を眠らせる。[10点]',\n          '『透視』濃密な妖気が瞳に宿り、1分間20mの距離を透視できる。[10点]',\n          '『強行』突如として妖気が増し、接触した対象を【肉体】x2m吹き飛ばす。[0点]',\n          '『衝撃』妖気が殺傷能力を帯び、接触した物体を破壊。20秒間、手足が簡易の肉弾武器となる。[10点]',\n          '『撃滅』妖気が稲妻や火災へと変異し、接触した物体を「着火」させる。[20点]',\n          '『展開』全身を包む妖気の層が厚くなり、1分間物理的な接触を行えない。[20点]',\n          '『模倣』<和魂>が精神を活性化させ、異常な記憶力を手に入れる。[20点]',\n          '『支配』一瞬<和魂>を完全支配、次に行う戦闘外の判定を1回だけ効果的成功する。[20点]',\n        ],\n        [\n          '『解放』妖気を無尽蔵に解放、1分間、戦闘外で使用する「コスト」を無視できる。[30点]',\n          '『加速』妖気が両足に集中、1分間、時速50kmで疾走できる。[20点]',\n          '『付与』妖気が感覚に集中、1分間50m先を透視できる。[20点]',\n          '『強固』妖気が全身に浸透、1分間「窒息」「状態変化」のダメージを無効。[20点]',\n          '『破壊』全妖気が膂力に変換され、1分間【肉体】判定の達成値を2倍にする。[20点]',\n          '『爆散』1分間妖気が変質、接触した対象を爆破でき、障害物を瞬時に破壊。[10点]',\n          '『浄化』半径10m全てを浄化、範囲内で持続する《特殊能力》の効果を無効化。[20点]',\n          '『律動』半径10m内の<鬼御魂>を持たない生物を1分間気絶させる。[20点]',\n          '『修復』妖気が極限まで活性化され、疲労を取り払う。[20点]',\n          '『本性』瞬時に異形化。異形化中であれば、さらに禍々しい姿へ変質する。[20点]',\n          '『覚醒』1時間、全身から閃光を発し、高さが【精神】mの\"光の柱\"に包まれる。[30点]',\n        ]\n      ].freeze\n\n      # 鬼御魂(戦闘中)衝動表\n      ONIMITAMA_BATTLE_TABLE = [\n        [\n          '『恐怖』効果が発生したターンの終了時まで「行動不能」状態となる。',\n          '『落涙』1ターン(10秒)「通常」行動を行えない。回避行動に影響はない。',\n          '『哄笑』効果が発生したターンの終了時まで「行動不能」となる。',\n          '『咆哮』効果が発生したターンの終了時まで「行動不能」となる。',\n          '『抑制』影響なし。',\n          '『沈静』【エナジー】を3点回復する。',\n          '『理性』影響なし。',\n          '『破裂』【エナジー】が5点減少する。',\n          '『喪失』次ターンの【行動値】が半減(端数切捨て)。',\n          '『枯渇』次ターンの終了時まで、あらゆるダメージに「+2」点。',\n          '『内包』『衝動』が2点回復する。',\n        ],\n        [\n          '『飢餓』最も近くの無防備な対象から血液摂取を試みる。対象が<鬼御魂>を持たない場合、血液採取の効果を得られる。',\n          '『封印』効果が発生したターンの終了時まで《特殊能力》を使用できない。',\n          '『拒絶』効果が発生したターンの終了時まで、味方を対象とした《特殊効果》を使用不可。',\n          '『拡散』半径5m以内の対象全ての【エナジー】を1d点減少する(抵抗不可、防御力無視)。',\n          '『抑制』影響なし。',\n          '『治癒』【エナジー】を5点回復する。',\n          '『本能』即座に\"異形化\"、ターン終了まで任意のダメージ1つに「+1d」点。',\n          '『破砕』行動を消費することなく、近くに存在する障害物1つを瞬時に破壊。',\n          '『悪寒』効果が発生したターンの終了時まで、あらゆる判定の達成値に「-5」。',\n          '『心傷』効果が発生したターンの終了時まで、「タイミング:攻撃」を行えない。',\n          '『回想』『衝動』を3点回復する。',\n        ],\n        [\n          '『不動』次のターンの終了時まで「タイミング:通常」を行えない。',\n          '『脱力』次のターンの終了時まで「転倒」状態となる。',\n          '『異形』次に行う行為判定は、出目に関係なく効果的成功として扱う。',\n          '『精密』次のターンの終了時まで、射撃ダメージに「+5」点。',\n          '『獰猛』次のターンの終了時まで、肉弾ダメージに「+5」点。',\n          '『高揚』次のターンの終了時まで、あらゆるダメージに「+1d」点。',\n          '『憎悪』次のターンの終了時まで、特殊ダメージに「+5」点。',\n          '『加速』次のターンの終了時まで【行動値】に「+5」。',\n          '『平穏』あらゆる「状態変化」を任意で1つ消滅させる。',\n          '『慈愛』半径5m内の味方全ての【エナジー】を5点回復する。',\n          '『支配』「衝動表」の結果を、第三段階の中から任意のものから1つ選択できる。',\n        ],\n        [\n          '『変質』次のターンの終了時まで、任意の防御力の1つに「+10」点。',\n          '『増強』次のターンの終了時まで、任意の回避判定1つに「+5」。',\n          '『拡大』次のターンの終了時まで、任意の命中判定1つに「+5」。',\n          '『清浄』半径10m内の味方全ての【エナジー】を5点回復する。',\n          '『透視』次のターン終了時まで、射撃ダメージに「+10」点。',\n          '『強行』次のターンは、「タイミング:攻撃」を余分に1回行うことができる。',\n          '『衝撃』次のターンの終了時まで、肉弾ダメージに「+10」点。',\n          '『撃滅』次のターンの終了時まで、特殊ダメージに「+10」点。',\n          '『展開』次のターンの終了時まで、本人が受けるあらゆるダメージを半減できる。',\n          '『模倣』次のターンの終了時まで、敵が使用した《特殊能力》1つを1回だけ使用可能。',\n          '『支配』「衝動表」の結果を、第四段階の中から任意のものから1つ選択できる。',\n        ],\n        [\n          '『解放』次のターンの終了時まで、あらゆる戦闘修正が2倍となる。',\n          '『加速』次のターンの終了時まで、【行動値】が2倍となる。',\n          '『付与』次のターンの終了時まで、射撃ダメージの総計を2倍にできる。',\n          '『強固』次のターンの終了時まで、あらゆる防御力に「+10」点。',\n          '『破壊』次のターンの終了時まで、肉弾ダメージの総計を2倍にできる。',\n          '『爆散』次のターンの終了時まで、あらゆるダメージに「+2d」点。',\n          '『浄化』『衝動』を1d点回復する。',\n          '『律動』次のターンの終了時まで、特殊ダメージの総計を2倍にできる。',\n          '『修復』【エナジー】が最大値まで回復する。',\n          '『本性』この戦闘中のみ、最終能力を2回使用できる。',\n          '『覚醒』第五段階を2回振り、双方の効果を適応する。',\n        ]\n      ].freeze\n    end\n  end\nend\n"], :names=>["<top (required)>", "<module:BCDice>", "<module:GameSystem>", "<class:DemonParasite>", "self", "register_prefix", "initialize", "command", "@sort_add_dice", "@d66_sort_type", "D66SortType::NO_SORT", "D66SortType", "result_nd6", "_total", "_dice_total", "dice_list", "_cmp_op", "target", ">=", "count", "1", "2", "Result", "fumble", "6", "critical", "nothing", "eval_game_system_specific_command", "get_urge", "string", "m", "match", "initialWord", "[]", "urgelv", "to_i", "$ret_or_1", "title", "urge", "URGE_TABLE", "NEW_URGE_TABLE", "MALFUNCTION_TABLE", "MUTANT_TABLE", "ONIMITAMA_OUT_OF_BATTLE_TABLE", "ONIMITAMA_BATTLE_TABLE", "<", ">", "5", "dice_now", "@randomizer", "roll_sum", "resultText", "-", "freeze", "Base"], :mappings=>"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"}}, {:offset=>{:line=>110, :column=>0}, :map=>{:version=>3, :sourceRoot=>"", :sources=>["bcdice/game_system/ParasiteBlood.rb"], :sourcesContent=>["# frozen_string_literal: true\n\nrequire 'bcdice/game_system/DemonParasite'\n\nmodule BCDice\n  module GameSystem\n    class ParasiteBlood < DemonParasite\n      # ゲームシステムの識別子\n      ID = 'ParasiteBlood'\n\n      # ゲームシステム名\n      NAME = 'パラサイトブラッドRPG'\n\n      # ゲームシステム名の読みがな\n      SORT_KEY = 'はらさいとふらつとRPG'\n\n      # ダイスボットの使い方\n      HELP_MESSAGE = <<~INFO_MESSAGE_TEXT\n        ・衝動表　(URGEx)\n        　\"URGE衝動レベル\"の形で指定します。\n        　衝動表に従って自動でダイスロールを行い、結果を表示します。\n        　ダイスロールと同様に、他のプレイヤーに隠れてロールすることも可能です。\n        　頭に識別文字を追加して、デフォルト以外の衝動表もロールできます。\n        　・AURGEx　頭に「A」を付けると「誤作動表」。\n        例）URGE1　　　urge5　　　Aurge2\n        ・D66ダイスあり\n      INFO_MESSAGE_TEXT\n\n      register_prefix('[NAMUC]?URGE')\n\n      def get_urge(string) # パラサイトブラッドの衝動表\n        unless /(\\w*)URGE\\s*(\\d+)/i =~ string\n          return '1'\n        end\n\n        initialWord = Regexp.last_match(1)\n        urgelv = Regexp.last_match(2).to_i\n\n        case initialWord\n        when \"\"\n          urge_type = 1\n        when /A/i    # 誤作動表\n          urge_type = 2\n        else         # あり得ない文字\n          urge_type = 1\n        end\n\n        if (urgelv < 1) || (urgelv > 5)\n          return '衝動段階は1から5です'\n        end\n\n        if urge_type == 0\n          return '1'\n        end\n\n        dice_now = @randomizer.roll_sum(2, 6)\n        urge = get_pb_urge_table(urgelv, dice_now, urge_type)\n        resultText = \"\#{urgelv}-\#{dice_now}:\#{urge}\"\n        if urge_type <= 1\n          output = \"衝動表\#{resultText}\"\n        elsif urge_type <= 2\n          output = \"誤作動表\#{resultText}\"\n        else\n          output = '1'\n        end\n\n        return output\n      end\n\n      def get_pb_urge_table(level, dice, urge_type)\n        table = nil\n\n        if urge_type <= 1 # 衝動表\n          table =  get_pb_normal_urge_table\n        elsif urge_type <= 2 # AASとサイボーグの誤作動表\n          table = get_pb_aas_urge_table\n        else # エラートラップ\n          table = get_pb_normal_urge_table\n        end\n\n        return table[level - 1][dice - 2]\n      end\n\n      def get_pb_normal_urge_table\n        return [[\n          '『怒り/20』突然強い怒りに駆られる。最も近い対象を罵倒し、そのターンの終了まで[行動不能]となる。',\n          '『暗闇/20』視神経に悪影響が出て、24時間[暗闇]になる。',\n          '『悲哀/10』突然の悲みに動きが止まる。そのターンの終了まで[行動不能]となる。',\n          '『微笑/10』可笑しくてしょうがない。笑いが止まらず、そのターンの終了まで[行動不能]となる。',\n          '『鈍感/ 0』衝動に気が付かない。影響なし。',\n          '『抑制/ 0』衝動を抑制した。影響なし。',\n          '『我慢/ 0』衝動を我慢した。影響なし。',\n          '『前兆/10』悪魔的特徴が1ターン(10秒)目立つ。〈悪魔化〉時は影響なし。',\n          '『変化/10』利き腕や前脚のみ、2ターン(20秒)かけて〈悪魔化〉する。〈悪魔化〉時は影響なし。',\n          '『拒絶/10』〈悪魔化〉が解除される。通常時は影響なし。',\n          '『定着/20』通常時であれば、即座に〈悪魔化〉する。肉体が〈悪魔化〉に馴染み、24時間通常時に戻れない。',\n        ],\n                [\n                  '『賛美/20』最も近くの対象を主と思いこむ。1時間または自身か対象が[気絶・戦闘不能・死亡]するまで、対象のあらゆる命令を聞く。',\n                  '『茫然/20』思考が停止。そのターンの終了まで[タイミング:攻撃]を行えない。',\n                  '『苦痛/20』\"悪魔寄生体\"が体内で暴れる。苦痛を感じ、【エナジー】を10消費。',\n                  '『落涙/10』過去の悲しい想い出が去来し、涙が溢れる。そのターンの終了まで[タイミング:準備]を行えない。',\n                  '『限界/10』溢れる力が限界を超え、全身の血管が破裂。【エナジー】を5消費。',\n                  '『辛抱/10』突如全身が〈悪魔化〉しようとしたが、意思の力で抑制。【エナジー】を5消費。〈悪魔化〉時は影響なし。',\n                  '『忍耐/ 0』衝動に耐えた。影響なし。',\n                  '『抑制/ 0』衝動を抑制した。影響なし。',\n                  '『我慢/ 0』衝動を我慢した。影響なし。',\n                  '『嫉妬/10』最も近くの対象に猛烈な嫉妬を感じ、[距離:移動10m/対象:1体]に通常肉弾攻撃を行う。',\n                  '『変貌/20』〈悪魔化〉する。その際、特異な外見が目立つ。〈悪魔化〉時は影響なし。',\n                ],\n                [\n                  '『異貌/20』3ターンかけて、顔のみが〈悪魔化〉する。〈悪魔化〉時は影響なし。',\n                  '『解放/20』衝動に耐えきれず3ターンかけて〈悪魔化〉する。〈悪魔化〉時は影響なし。',\n                  '『発露/20』全身を駆け抜ける衝動により力が溢れる。次のターンの終了まで、ダメージに+5。',\n                  '『渇望/10』攻撃衝動を抑えられない。次のターンの終了まで、命中判定の達成値に+5。',\n                  '『絶叫/10』あらん限りの声で叫び、力が増す。次のターンの終了まで、ダメージに+1d。',\n                  '『我慢/ 0』衝動を我慢した。影響なし。',\n                  '『憤怒/10』全身に怒りが満ちて攻撃力上昇。次のターンの終了まで、ダメージに+1d。',\n                  '『加速/10』全身を駆け抜ける衝動により速度上昇。次のターンの終了まで【行動値】が2倍。',\n                  '『嫌悪/20』最も近くの対象に嫌悪を感じ、[距離:移動10m/対象:1体]に通常肉弾攻撃を行う。',\n                  '『保身/20』突如として防御能力が高まる。次のターンの終了まで、防御力に+5。',\n                  '『救済/20』\"悪魔寄生体\"が危機を察知し、【エナジー】を20回復。',\n                ],\n                [\n                  '『転倒/20』踏み込んだ瞬間、あまりの衝撃に地面をえぐり[転倒]してしまう。',\n                  '『脱力/20』急に力が抜ける。そのターンの終了まで、判定の達成値に-5。',\n                  '『困惑/20』精神に変調があらわれ、空間認識能力が狂う。次のターンの終了まで、[タイミング:瞬間]の《特殊能力》を行えない。',\n                  '『全力/20』激しい躁状態。次のターンの終了まで、命中判定に+10。加えて[タイミング:ターン開始]の《特殊能力》を使用できなくなる。',\n                  '『咆吼/10』大声で叫び、意味のある言葉を話せなくなる。１時間持続する。',\n                  '『狂気/10』心が狂気に満たされ、強いストレスを感じる。【衝動】を2蓄積させる。',\n                  '『本能/20』\"悪魔寄生体\"の生存本能が自我を支配。次のターンの終了まで、ダメージに+5。',\n                  '『治癒/20』衝動を1蓄積させ、《肉体修復》を行う。',\n                  '『敵意/20』最も近い対象に強い敵意を抱く。[距離:移動10m/対象:1体]に通常肉弾攻撃を行い、クリティカルとなる。',\n                  '『自虐/20』自分が許せず自虐行為を行う。【エナジー】を10消費するが、次のターンの終了までダメージに+10。',\n                  '『自浄/20』少し我に返る。【衝動】が2回復。',\n                ],\n                [\n                  '『睡眠/30』猛烈な睡魔に襲われ意識を失う。そのターンの終了まで[気絶]となる。',\n                  '『飢餓/30』猛烈な飢餓感。20m以内の最も近い[気絶・戦闘不能・死亡]の対象へ移動し、喰らう。次のターンの終了まで、対象は【エナジー】を1dずつ消費。',\n                  '『激怒/20』突如として強い怒りが湧き、周囲が見えなくなる。次のターンの終了まで、[タイミング:瞬間]の《特殊能力》を行えない。',\n                  '『顕現/20』利き腕や前脚がさらに外骨格化し、肉体に強い負荷がかかる。【衝動】を3蓄積',\n                  '『好機/20』チャンスに本能が素早く反応。即座に[タイミング:攻撃]の行動を1回だけ行える。',\n                  '『狂化/20』精神に変調、心が強い狂気で満たされ、自虐行為に走る。【エナジー】を20消費する。',\n                  '『混乱/20』精神に変調が現れ、肉体を意のままに動かせない。次のターンの終了まで、判定の達成値に-5。',\n                  '『暴君/20』自分が最強に思えてしょうがない。60ターン(10分)の間、【行動値】とダメージに+5。',\n                  '『無双/20』達人の感覚が目覚める。60ターン(10分)の間、命中判定と回避判定の達成値に+5。',\n                  '『発現/30』通常時であれば、即座に《悪魔化》する。特異な外見が60ターン(10分)目立ち、その間、命中判定とダメージに+5。',\n                  '『絶望/30』全身が絶望に満たされ、全てを破壊したくなる。次のターンの終了まで、ダメージに+15。',\n                ]]\n      end\n\n      # **パラサイトブラッドの誤作動表(2d6)\n      def get_pb_aas_urge_table\n        return [[\n          # **第１段階\n          '『緊急停止/20』機能異常の警報と共に、機能が緊急停止。次のターンのターン終了時まで［行動不能］となる。',\n          '『動作不調/10』駆動系に異常発生。このターンのターン終了まで［行動不能］となる。',\n          '『腕部停止/10』腕部機能に異常発生。このターンのターン終了まで［タイミング：攻撃］を失う。',\n          '『視覚異常/10』センサー系に異常。60ターン（10分）の間、［暗闇］となる。',\n          '『機能制動/0』機能が一瞬停止するが、以後正常に動作。影響なし。',\n          '『機能安定/0』機能がむしろ安定した。影響なし。',\n          '『不良調整/0』機能に違和感を覚えるが誤差の範囲内。影響なし。',\n          '『機能暴発/10』兵装の調子が悪化。次のターンのターン終了まで、［タイミング：準備］の《兵装》が使用できない。',\n          '『離脱機能/10』異常発生。即座に［戦闘移動］を行い、最も近い敵から遠ざかるように移動する。',\n          '『排熱暴走/10』排熱機能に異常。次のターンのターン終了まで［着火］状態となる。特殊ダメージは本人のものを使用する。',\n          '『電装異常/20』電装系に異常。即座に【負荷】が2点蓄積する。',\n        ],\n\n                # **第２段階\n                [\n                  '『安全機能/20』セーフティが誤動作。このターンのターン終了まで判定の達成値に-5。',\n                  '『筋肉萎縮/20』人工筋肉に異常発生。60ターン（10分）の間、【肉体】判定の達成値に-2。',\n                  '『出力低下/20』駆動部に異常発生。60ターン（10分）の間、【機敏】判定の達成値に-2。',\n                  '『感覚異常/10』感覚機能に異常発生。60ターン（10分）の間、【感覚】判定の達成値に-2。',\n                  '『視界不良/10』視覚機能に異常発生。60ターン（10分）の間、【幸運】判定の達成値に-2。',\n                  '『機能安定/0』機能がむしろ安定した。影響なし。',\n                  '『不良調整/0』機能に違和感を覚えるが誤差の範囲内。影響なし。',\n                  '『援護不通/10』援護ソフトが誤作動。60ターン（10分）の間、【知力】判定の達成値に-2。',\n                  '『発声不調/20』通話機能に異常。60ターン（10分）の間、声を出しても雑音だらけになって意味が通じず、さらに【精神】判定の達成値に-2。',\n                  '『装甲軟化/20』防御機能に異常。次のターンのターン終了まで、防御力に-5。',\n                  '『装備異常/20』精密動作に異常発生。装備している［通常アイテム］の武器がランダムでひとつ、［装備］から外れる。',\n                ],\n\n                # **第３段階\n                [\n                  '『動力漏電/20』動力が漏電し始める。【負荷】が2点蓄積する。',\n                  '『脚部異常/20』脚部に異常発生。次のターンのターン終了まで［戦闘移動］［全力移動］の距離が半分になる。',\n                  '『足下転倒/20』バランサーに異常発生。［転倒］状態となる。',\n                  '『出力向上/20』突然出力が上昇する。次のターンのターン終了まで、特殊ダメージに+1d。',\n                  '『機能制動/10』一瞬違和感を覚えるが、以後正常に動作。影響なし。',\n                  '『障壁減衰/10』電力が減衰する。【電力】を5消費する。',\n                  '『身体向上/10』格闘機能が向上。次のターンのターン終了まで、肉弾ダメージに+1d。',\n                  '『精度向上/20』火器管制機能が向上。次のターンのターン終了まで、射撃ダメージに+1d。',\n                  '『反射鋭化/20』反応速度が加速した。次のターンのターン終了まで、【行動値】に+5。',\n                  '『友軍誤認/20』警戒装置が誤動。最も近い［距離：移動10m/対象：1体］に通常肉弾攻撃を行う。',\n                  '『電子賦活/20』電磁障壁が突如復帰。【電力】が10回復する。',\n                ],\n\n                # **第４段階\n                [\n                  '『照準誤認/20』照準機能に異常発生。最も近い［距離：移動10m/対象：1体］に通常肉弾攻撃を行う。判定は自動的にクリティカルとなる。',\n                  '『攻撃特化/20』攻撃機能が異常動作。次のターンのターン終了まで、ダメージに+2d。ただし、その間［タイミング：瞬間］を行えない。',\n                  '『機内窒息/20』呼吸機能に異常。次のターンのターン終了まで［窒息］状態となる。',\n                  '『自動援護/20』援護機能が自動的に作動する。即座に［タイミング：準備］を1回行う。',\n                  '『音声遮断/10』聴覚機能に異常発生。次のターンのターン終了まで一切の物音が聞こえず、回避判定の達成値に-5。',\n                  '『電流加速/10』突然電磁障壁が効率的に流れる。【電力】が10回復。',\n                  '『精密射撃/20』照準機能が向上。60ターン（10分間）の間、ダメージに+5。',\n                  '『緊急措置/20』突然、緊急時の対策機能が発動する。【負荷】が2蓄積し、【電力】が20回復する。',\n                  '『荷電暴走/20』電流の流れに異常が発生。【HP】を10消費し、次のターンのターン終了までダメージに+10。',\n                  '『状況分析/20』周辺解析ソフトが高速で動作。60ターン（10分間）の間、命中判定の達成値に+5。',\n                  '『機能再生/20』兵装に誤作動。取得済みの使用不能になった《兵装》を1つ指定し、再び使用できるようになる。',\n                ],\n\n                # **第５段階\n                [\n                  '『機能停止/30』機能が作動しなくなる。このターンのターン終了まで、【負荷】を蓄積させる行動が取れなくなる。',\n                  '『機関暴走/30』放熱機関が暴走する。本人を中心として［対象：半径5m全て］が次のターンのターン終了まで［着火］状態となる。特殊ダメージはこの表を振ったPCのものを使用する。',\n                  '『電力低下/20』出力が上がらない。【電力】が20減少する。',\n                  '『急速修復/20』電磁障壁と生命維持装置が高速処理を始める。【HP】が20回復。',\n                  '『駆動不調/20』駆動系に動作不良。次のターンのターン終了まで、判定の達成値に-5。',\n                  '『機体清冽/20』機能が初期化され、異常から復帰。［気絶・死亡・戦闘不能］以外の状態変化がすべて解除される。',\n                  '『機体減速/20』運動機能が暴走。次のターンのターン終了まで【行動値】に-10（最低1）。',\n                  '『排毒噴出/20』排気機構が誤作動。［対象：半径5m全て］が次のターンのターン終了まで［猛毒］状態となる。',\n                  '『緊急駆動/20』機動性が向上。次のターンのターン終了まで判定の達成値に+5。',\n                  '『負荷軽減/30』急激に負荷が解消される。【負荷】が2点回復する。',\n                  '『出力過剰/30』全出力が過剰なまでに上昇する。次のターンのターン終了までダメージに+10。',\n                ]]\n      end\n    end\n  end\nend\n"], :names=>["<main>", "self", "require", "<module:BCDice>", "<module:GameSystem>", "<class:ParasiteBlood>", "register_prefix", "get_urge", "string", "=~", "initialWord", "Regexp", "last_match", "1", "urgelv", "2", "to_i", "$ret_or_1", "urge_type", "<", ">", "5", "0", "dice_now", "@randomizer", "roll_sum", "6", "urge", "get_pb_urge_table", "resultText", "<=", "output", "level", "dice", "table", "get_pb_normal_urge_table", "get_pb_aas_urge_table", "[]", "-", "DemonParasite"], :mappings=>"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"}}]}