{:version=>3, :sections=>[{:offset=>{:line=>0, :column=>0}, :map=>{:version=>3, :sourceRoot=>"", :sources=>["bcdice/game_system/Hieizan.rb"], :sourcesContent=>["# frozen_string_literal: true\n\nmodule BCDice\n  module GameSystem\n    class Hieizan < Base\n      # ゲームシステムの識別子\n      ID = 'Hieizan'\n\n      # ゲームシステム名\n      NAME = '比叡山炎上'\n\n      # ゲームシステム名の読みがな\n      SORT_KEY = 'ひえいさんえんしよう'\n\n      # ダイスボットの使い方\n      HELP_MESSAGE = \"大成功、自動成功、失敗、自動失敗、大失敗の自動判定を行います。\\n\"\n\n      # ゲーム別成功度判定(1d100)\n      def result_1d100(total, _dice_total, cmp_op, target)\n        return Result.nothing if target == '?'\n        return nil unless cmp_op == :<=\n\n        if total >= 100\n          Result.fumble(\"大失敗\")\n        elsif total >= 96\n          Result.failure(\"自動失敗\")\n        elsif total <= (target / 5).to_i\n          Result.critical(\"大成功\")\n        elsif total <= 1\n          Result.success(\"自動成功\")\n        elsif total <= target\n          Result.success(\"成功\")\n        else\n          Result.failure(\"失敗\")\n        end\n      end\n    end\n  end\nend\n"], :names=>["<main>", "<module:BCDice>", "<module:GameSystem>", "<class:Hieizan>", "result_1d100", "total", "_dice_total", "cmp_op", "target", "Result", "nothing", ">=", "100", "fumble", "96", "failure", "<=", "/", "5", "to_i", "critical", "1", "success", "Base"], :mappings=>"AAAAA,2BAAAA;EAAAA;;EAEAA,OAAAC;EAAAA;;IAAAA;;IACEA,OAAAC;IAAAA;;MAAAA;;MACEA,OAAAC;MAAAA;;QAAAA;;;QAEE,8BAAKA,SAAL;QAGA,gCAAOA,OAAP;QAGA,oCAAWA,YAAX;QAGA,wCAAeA,mCAAf;QAGAA,OAAAC,4BAAAA,wBAAiBC,KAAD,EAAQC,WAAR,EAAqBC,MAArB,EAA6BC,MAA7CJ;AAAAA;;UACE,IAAA,MAAyBI,MAAzB,EAAmCJ,GAAnC,CAAA;YAAA,OAAOK,YAAMC,SAAAA,CAAAA;UAAb;UACA,KAAA,MAAkBH,MAAlB,EAA4B,IAA5B,CAAA;YAAA,OAAO;UAAP;UAEA,IAAA,QAASI,OAANN,KAAMM,EAAGC,GAAHD,CAAT,CAAA;YACEP,OAAAK,YAAMI,QAAAA,CAAQT,KAARS;UADR,OAEA,IAAA,QAAYF,OAANN,KAAMM,EAAGG,EAAHH,CAAZ,CAAA;YACEP,OAAAK,YAAMM,SAAAA,CAASX,MAATW;UADR,OAEA,IAAA,QAAYC,OAANX,KAAMW,EAAWC,WAAPT,MAAOS,EAAEC,CAAFD,CAAIE,MAAAA,CAAAA,CAAfH,CAAZ,CAAA;YACEZ,OAAAK,YAAMW,UAAAA,CAAUhB,KAAVgB;UADR,OAEA,IAAA,QAAYJ,OAANX,KAAMW,EAAGK,CAAHL,CAAZ,CAAA;YACEZ,OAAAK,YAAMa,SAAAA,CAASlB,MAATkB;UADR,OAEA,IAAA,QAAYN,OAANX,KAAMW,EAAGR,MAAHQ,CAAZ,CAAA;YACEZ,OAAAK,YAAMa,SAAAA,CAASlB,IAATkB;UADR;YAGElB,OAAAK,YAAMM,SAAAA,CAASX,IAATW;UAHR;QAZFX,CAAAA;MAdFD,GAAAA,WAAAA,EAAgBoB,UAAhBpB;IADFD,GAAAA,WAAAA;EADFD,GAAAA,WAAAA;AAFAD;"}}]}