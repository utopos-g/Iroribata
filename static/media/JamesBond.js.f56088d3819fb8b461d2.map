{:version=>3, :sections=>[{:offset=>{:line=>0, :column=>0}, :map=>{:version=>3, :sourceRoot=>"", :sources=>["bcdice/game_system/JamesBond.rb"], :sourcesContent=>["# frozen_string_literal: true\n\nmodule BCDice\n  module GameSystem\n    class JamesBond < Base\n      # ゲームシステムの識別子\n      ID = 'JamesBond'\n\n      # ゲームシステム名\n      NAME = 'ジェームズ・ボンド007'\n\n      # ゲームシステム名の読みがな\n      SORT_KEY = 'しええむすほんと007'\n\n      # ダイスボットの使い方\n      HELP_MESSAGE = <<~INFO_MESSAGE_TEXT\n        ・1D100の目標値判定で、効果レーティングを1～4で自動判定。\n        　例）1D100<=50\n        　　　JamesBond : (1D100<=50) ＞ 20 ＞ 効果3（良）\n      INFO_MESSAGE_TEXT\n\n      def result_1d100(total, _dice_total, cmp_op, target) # ゲーム別成功度判定(1d100)\n        return Result.nothing if target == '?'\n        return nil unless cmp_op == :<=\n\n        base = ((target + 9) / 10).floor\n\n        if total >= 100\n          # 100は常に失敗\n          Result.failure(\"失敗\")\n        elsif total <= base\n          Result.success(\"効果1（完璧）\")\n        elsif total <= base * 2\n          Result.success(\"効果2（かなり良い）\")\n        elsif total <= base * 5\n          Result.success(\"効果3（良）\")\n        elsif total <= target\n          Result.success(\"効果4（まあまあ）\")\n        else\n          Result.failure(\"失敗\")\n        end\n      end\n    end\n  end\nend\n"], :names=>["<main>", "<module:BCDice>", "<module:GameSystem>", "<class:JamesBond>", "result_1d100", "total", "_dice_total", "cmp_op", "target", "Result", "nothing", "base", "/", "+", "9", "10", "floor", ">=", "100", "failure", "<=", "success", "*", "2", "5", "Base"], :mappings=>"AAAAA,2BAAAA;EAAAA;;EAEAA,OAAAC;EAAAA;;IAAAA;;IACEA,OAAAC;IAAAA;;MAAAA;;MACEA,OAAAC;MAAAA;;QAAAA;;;QAEE,8BAAKA,WAAL;QAGA,gCAAOA,cAAP;QAGA,oCAAWA,aAAX;QAGA,wCACNA,oCADqB,GAErBA,gBAFqB,GAGrBA,4CAHM;QAMAA,OAAAC,4BAAAA,wBAAiBC,KAAD,EAAQC,WAAR,EAAqBC,MAArB,EAA6BC,MAA7CJ;AAAAA,UAAAA;;;UACE,IAAA,MAAyBI,MAAzB,EAAmCJ,GAAnC,CAAA;YAAA,OAAOK,YAAMC,SAAAA,CAAAA;UAAb;UACA,KAAA,MAAkBH,MAAlB,EAA4B,IAA5B,CAAA;YAAA,OAAO;UAAP;UAEAI,OAAqBC,WAALC,SAAPL,MAAOK,EAAEC,CAAFD,CAAKD,EAAEG,EAAFH,CAAKI,OAAAA,CAAAA;UAE1B,IAAA,QAASC,OAANZ,KAAMY,EAAGC,GAAHD,CAAT,CAAA;YAEEb,OAAAK,YAAMU,SAAAA,CAASf,IAATe;UAFR,OAGA,IAAA,QAAYC,OAANf,KAAMe,EAAGT,IAAHS,CAAZ,CAAA;YACEhB,OAAAK,YAAMY,SAAAA,CAASjB,SAATiB;UADR,OAEA,IAAA,QAAYD,OAANf,KAAMe,EAAQE,UAALX,IAAKW,EAAEC,CAAFD,CAARF,CAAZ,CAAA;YACEhB,OAAAK,YAAMY,SAAAA,CAASjB,YAATiB;UADR,OAEA,IAAA,QAAYD,OAANf,KAAMe,EAAQE,UAALX,IAAKW,EAAEE,CAAFF,CAARF,CAAZ,CAAA;YACEhB,OAAAK,YAAMY,SAAAA,CAASjB,QAATiB;UADR,OAEA,IAAA,QAAYD,OAANf,KAAMe,EAAGZ,MAAHY,CAAZ,CAAA;YACEhB,OAAAK,YAAMY,SAAAA,CAASjB,WAATiB;UADR;YAGEjB,OAAAK,YAAMU,SAAAA,CAASf,IAATe;UAHR;QAfFf,CAAAA;MAjBFD,GAAAA,WAAAA,EAAkBsB,UAAlBtB;IADFD,GAAAA,WAAAA;EADFD,GAAAA,WAAAA;AAFAD;"}}]}