{:version=>3, :sections=>[{:offset=>{:line=>0, :column=>0}, :map=>{:version=>3, :sourceRoot=>"", :sources=>["bcdice/game_system/Arianrhod.rb"], :sourcesContent=>["# frozen_string_literal: true\n\nmodule BCDice\n  module GameSystem\n    class Arianrhod < Base\n      # ゲームシステムの識別子\n      ID = 'Arianrhod'\n\n      # ゲームシステム名\n      NAME = 'アリアンロッドRPG'\n\n      # ゲームシステム名の読みがな\n      SORT_KEY = 'ありあんろつとRPG'\n\n      # ダイスボットの使い方\n      HELP_MESSAGE = <<~INFO_MESSAGE_TEXT\n        ・クリティカル、ファンブルの自動判定を行います。(クリティカル時の追加ダメージも表示されます)\n        ・D66ダイスあり\n      INFO_MESSAGE_TEXT\n\n      def initialize(command)\n        super(command)\n\n        @sort_add_dice = true\n        @d66_sort_type = D66SortType::NO_SORT\n      end\n\n      def result_nd6(total, _dice_total, dice_list, cmp_op, target)\n        n_max = dice_list.count(6)\n\n        if dice_list.count(1) == dice_list.size\n          # 全部１の目ならファンブル\n          Result.fumble(translate(\"fumble\"))\n        elsif n_max >= 2\n          # ２個以上６の目があったらクリティカル\n          Result.critical(translate(\"Arianrhod.critical\", dice: n_max))\n        elsif cmp_op != :>= || target == '?'\n          nil\n        elsif total >= target\n          Result.success(translate(\"success\"))\n        else\n          Result.failure(translate(\"failure\"))\n        end\n      end\n    end\n  end\nend\n"], :names=>["<main>", "<module:BCDice>", "<module:GameSystem>", "<class:Arianrhod>", "initialize", "command", "self", "@sort_add_dice", "@d66_sort_type", "D66SortType::NO_SORT", "D66SortType", "result_nd6", "total", "_dice_total", "dice_list", "cmp_op", "target", "n_max", "count", "6", "1", "size", "Result", "fumble", "translate", ">=", "2", "critical", "success", "failure", "Base"], :mappings=>"AAAAA,2BAAAA;EAAAA;;EAEAA,OAAAC;EAAAA;;IAAAA;;IACEA,OAAAC;IAAAA;;MAAAA;;MACEA,OAAAC;MAAAA;;QAAAA;;;QAEE,8BAAKA,WAAL;QAGA,gCAAOA,YAAP;QAGA,oCAAWA,YAAX;QAGA,wCACNA,mDADqB,GAErBA,aAFM;;AAKAC,QAAAA,0BAAAA,sBAAeC,OAAfD;AAAAA,UAAAA;;UAAAA;;UACE,OAAAE,IAAA,EAAA,0DAAA,cAAA,EAAA,CAAMD,OAAN,CAAA,EAAA,IAAA;UAEAE,qBAAiB;UACjBH,OAAAI,CAAAA,qBAAiBC,IAAAC,iBAAAD,YAAjBD;QAJFJ,CAAAA;QAOAD,OAAAQ,0BAAAA,sBAAeC,KAAD,EAAQC,WAAR,EAAqBC,SAArB,EAAgCC,MAAhC,EAAwCC,MAAtDL;AAAAA,UAAAA;;;UACEM,QAAQH,SAASI,OAAAA,CAAOC,CAAPD;UAEjB,IAAA,MAAGJ,SAASI,OAAAA,CAAOE,CAAPF,CAAZ,EAAyBJ,SAASO,MAAAA,CAAAA,CAAlC,CAAA;YAEEV,OAAAW,YAAMC,QAAAA,CAAQjB,IAAAkB,WAAAA,CAAUb,QAAVa,CAARD;UAFR,OAGA,IAAA,QAAYE,OAANR,KAAMQ,EAAGC,CAAHD,CAAZ,CAAA;YAEEd,OAAAW,YAAMK,UAAAA,CAAUrB,IAAAkB,WAAAA,CAAUb,oBAAV,EAAgC,kBAAA,QAAMM,KAAN,EAAhCO,CAAVG;UAFR,OAGA,IAAM,CAAA,OAAAZ,MAAA,EAAU,IAAV,CAAA,IAAA,CAAA,MAAiBC,MAAjB,EAA2BL,GAA3B,CAAA,CAAA,CAAN;YACEA,OAAA;UADF,OAEA,IAAA,QAAYc,OAANb,KAAMa,EAAGT,MAAHS,CAAZ,CAAA;YACEd,OAAAW,YAAMM,SAAAA,CAAStB,IAAAkB,WAAAA,CAAUb,SAAVa,CAATI;UADR;YAGEjB,OAAAW,YAAMO,SAAAA,CAASvB,IAAAkB,WAAAA,CAAUb,SAAVa,CAATK;UAHR;QAXFlB,CAAAA;MAvBFR,GAAAA,WAAAA,EAAkB2B,UAAlB3B;IADFD,GAAAA,WAAAA;EADFD,GAAAA,WAAAA;AAFAD;"}}]}