{:version=>3, :sections=>[{:offset=>{:line=>0, :column=>0}, :map=>{:version=>3, :sourceRoot=>"", :sources=>["bcdice/game_system/NjslyrBattle.rb"], :sourcesContent=>["# frozen_string_literal: true\n\nmodule BCDice\n  module GameSystem\n    class NjslyrBattle < Base\n      # ゲームシステムの識別子\n      ID = 'NjslyrBattle'\n\n      # ゲームシステム名\n      NAME = 'NJSLYRBATTLE'\n\n      # ゲームシステム名の読みがな\n      SORT_KEY = 'にんしやすれいやあはとる'\n\n      # ダイスボットの使い方\n      HELP_MESSAGE = <<~INFO_MESSAGE_TEXT\n        ・カラテロール\n        2d6<=(カラテ点)\n        例）2d6<=5\n        (2D6<=5) ＞ 2[1,1] ＞ 2 ＞ 成功 重点 3 溜まる\n      INFO_MESSAGE_TEXT\n\n      # ゲーム別成功度判定(2D6)\n      def result_2d6(total, _dice_total, dice_list, cmp_op, target)\n        return Result.nothing if target == \"?\"\n        return nil if cmp_op != :<=\n\n        result = (total <= target ? Result.success(\"成功\") : Result.failure(\"失敗\"))\n        result.text += juuten(dice_list)\n\n        return result\n      end\n\n      private\n\n      def juuten(dice_list)\n        juuten = dice_list.count(1) + dice_list.count(6)\n\n        if dice_list[0] == dice_list[1]\n          juuten += 1\n        end\n\n        if juuten > 0\n          \" 重点 \#{juuten} 溜まる\"\n        else\n          \"\"\n        end\n      end\n    end\n  end\nend\n"], :names=>["<main>", "<module:BCDice>", "<module:GameSystem>", "<class:NjslyrBattle>", "result_2d6", "total", "_dice_total", "dice_list", "cmp_op", "target", "Result", "nothing", "result", "<=", "success", "failure", "text=", "+", "text", "self", "juuten", "private", "count", "1", "6", "[]", "0", ">", "Base"], :mappings=>"AAAAA,2BAAAA;EAAAA;;EAEAA,OAAAC;EAAAA;;IAAAA;;IACEA,OAAAC;IAAAA;;MAAAA;;MACEA,OAAAC;MAAAA;;QAAAA;;;QAEE,8BAAKA,cAAL;QAGA,gCAAOA,cAAP;QAGA,oCAAWA,cAAX;QAGA,wCACNA,WADqB,GAErBA,eAFqB,GAGrBA,YAHqB,GAIrBA,uCAJM;;AAQAC,QAAAA,0BAAAA,sBAAeC,KAAD,EAAQC,WAAR,EAAqBC,SAArB,EAAgCC,MAAhC,EAAwCC,MAAtDL;AAAAA,UAAAA;;;UACE,IAAA,MAAyBK,MAAzB,EAAmCL,GAAnC,CAAA;YAAA,OAAOM,YAAMC,SAAAA,CAAAA;UAAb;UACA,IAAA,OAAcH,MAAd,EAAwB,IAAxB,CAAA;YAAA,OAAO;UAAP;UAEAI,SAAU,CAAA,QAAMC,OAANR,KAAMQ,EAAGJ,MAAHI,CAAN,CAAA,GAAA,CAAkBH,YAAMI,SAAAA,CAASV,IAATU,CAAxB,IAAA,CAAyCJ,YAAMK,SAAAA,CAASX,IAATW,CAA/C,CAAA;UACVH,MAAMI,UAAAA,CAAAC,SAANL,MAAMM,MAAAA,CAAAA,CAAAD,EAASE,IAAAC,QAAAA,CAAOb,SAAPa,CAATH,CAAAD;UAEN,OAAOJ;QAPTR,CAAAA;QAUAe,IAAAE,SAAAA,CAAAA;QAEAlB,OAAAiB,sBAAAA,kBAAWb,SAAXa;AAAAA,UAAAA;;;UACEA,SAA4BH,SAAnBV,SAASe,OAAAA,CAAOC,CAAPD,CAAUL,EAAEV,SAASe,OAAAA,CAAOE,CAAPF,CAAXL;UAE5B,IAAA,MAAGV,SAASkB,OAAAA,CAACC,CAADD,CAAZ,EAAmBlB,SAASkB,OAAAA,CAACF,CAADE,CAA5B,CAAA;YACEL,SAAOH,SAAPG,MAAOH,EAAGM,CAAHN;UADT;UAIA,IAAA,QAAUU,OAAPP,MAAOO,EAAED,CAAFC,CAAV,CAAA;YACEP,OAACA,MAAD,GAAA,CAAOA,MAAP,CAAA,GAAcA;UADhB;YAGEA,OAAAA;UAHF;QAPFA,CAAAA;MA/BFjB,GAAAA,WAAAA,EAAqByB,UAArBzB;IADFD,GAAAA,WAAAA;EADFD,GAAAA,WAAAA;AAFAD;"}}]}