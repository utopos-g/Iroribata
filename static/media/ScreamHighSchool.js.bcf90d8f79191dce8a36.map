{:version=>3, :sections=>[{:offset=>{:line=>0, :column=>0}, :map=>{:version=>3, :sourceRoot=>"", :sources=>["bcdice/game_system/GardenOrder.rb"], :sourcesContent=>["# frozen_string_literal: true\n\nmodule BCDice\n  module GameSystem\n    class GardenOrder < Base\n      # ゲームシステムのの識別子\n      ID = 'GardenOrder'\n\n      # ゲームシステム名\n      NAME = 'ガーデンオーダー'\n\n      # ゲームシステム名の読みがな\n      SORT_KEY = 'かあてんおおたあ'\n\n      # ダイスボットの使い方\n      HELP_MESSAGE = <<~INFO_MESSAGE_TEXT\n        ・基本判定\n        　GOx/y@z　x：成功率、y：連続攻撃回数（省略可）、z：クリティカル値（省略可）\n        　（連続攻撃では1回の判定のみが実施されます）\n        　例）GO55　GO100/2　GO70@10　GO155/3@44\n        ・負傷表\n        　DCxxy\n        　xx：属性（切断：SL，銃弾：BL，衝撃：IM，灼熱：BR，冷却：RF，電撃：EL）\n        　y：ダメージ\n        　例）DCSL7　DCEL22\n      INFO_MESSAGE_TEXT\n\n      register_prefix(\n        'GO',\n        'DC(SL|BL|IM|BR|RF|EL).+'\n      )\n\n      def eval_game_system_specific_command(command)\n        case command\n        when %r{GO(-?\\d+)(/(\\d+))?(@(\\d+))?}i\n          success_rate = Regexp.last_match(1).to_i\n          repeat_count = (Regexp.last_match(3) || 1).to_i\n          critical_border_text = Regexp.last_match(5)\n          critical_border = get_critical_border(critical_border_text, success_rate)\n\n          return check_roll_repeat_attack(success_rate, repeat_count, critical_border)\n\n        when /^DC(SL|BL|IM|BR|RF|EL)(\\d+)/i\n          type = Regexp.last_match(1)\n          damage_value = Regexp.last_match(2).to_i\n          return look_up_damage_chart(type, damage_value)\n        end\n\n        return nil\n      end\n\n      def get_critical_border(critical_border_text, success_rate)\n        return critical_border_text.to_i unless critical_border_text.nil?\n\n        critical_border = [success_rate / 5, 1].max.to_i\n        return critical_border\n      end\n\n      def check_roll_repeat_attack(success_rate, repeat_count, critical_border)\n        success_rate_per_one = (success_rate / repeat_count).to_i\n        # 連続攻撃は最終的な成功率が50%以上であることが必要 cf. p217\n        if repeat_count > 1 && success_rate_per_one < 50\n          return \"D100<=\#{success_rate_per_one}@\#{critical_border} ＞ 連続攻撃は成功率が50％以上必要です\"\n        end\n\n        check_roll(success_rate_per_one, critical_border)\n      end\n\n      def check_roll(success_rate, critical_border)\n        success_rate = 0 if success_rate < 0\n        fumble_border = (success_rate < 100 ? 96 : 99)\n\n        dice_value = @randomizer.roll_once(100)\n        result = get_check_result(dice_value, success_rate, critical_border, fumble_border)\n\n        result.text = \"D100<=\#{success_rate}@\#{critical_border} ＞ \#{dice_value} ＞ \#{result.text}\"\n        return result\n      end\n\n      def get_check_result(dice_value, success_rate, critical_border, fumble_border)\n        # クリティカルとファンブルが重なった場合は、ファンブルとなる。 cf. p175\n        return Result.fumble(\"ファンブル\") if dice_value >= fumble_border\n        return Result.critical(\"クリティカル\") if dice_value <= critical_border\n        return Result.success(\"成功\") if dice_value <= success_rate\n\n        return Result.failure(\"失敗\")\n      end\n\n      def look_up_damage_chart(type, damage_value)\n        name, table = get_damage_table_info_by_type(type)\n\n        row = get_table_by_number(damage_value, table, nil)\n        return nil if row.nil?\n\n        \"負傷表：\#{name}[\#{damage_value}] ＞ \#{row[:damage]} ｜ \#{row[:name]} … \#{row[:text]}\"\n      end\n\n      def get_damage_table_info_by_type(type)\n        data = DAMAGE_TABLE[type]\n        return nil if data.nil?\n\n        return data[:name], data[:table]\n      end\n\n      DAMAGE_TABLE = {\n        \"SL\" => {\n          name: \"切断\",\n          table: [\n            [5,\n             {name: \"切り傷\",\n              text: \"皮膚が切り裂かれる。\",\n              damage: \"軽傷1\"}],\n            [10,\n             {name: \"脚部負傷\",\n              text: \"足が切り裂かれ、思わずひざまずく。\",\n              damage: \"軽傷２／マヒ\"}],\n            [13,\n             {name: \"出血\",\n              text: \"斬り裂かれた傷から出血が続く。\",\n              damage: \"軽傷３／ＤＯＴ：軽傷1\"}],\n            [16,\n             {name: \"胴部負傷\",\n              text: \"胴部に大きな傷を受ける。\",\n              damage: \"軽傷４\"}],\n            [19,\n             {name: \"腕部負傷\",\n              text: \"腕に大きな傷を受ける。\",\n              damage: \"重傷1／ＤＯＴ：軽傷1\"}],\n            [22,\n             {name: \"腹部負傷\",\n              text: \"腹部を深く切り裂かれる。\",\n              damage: \"重傷２\"}],\n            [25,\n             {name: \"大量出血\",\n              text: \"傷は深く、そこから大量に出血する。\",\n              damage: \"重傷２／ＤＯＴ：軽傷２\"}],\n            [28,\n             {name: \"裂傷\",\n              text: \"治りにくい傷をつけられる。\",\n              damage: \"重傷３\"}],\n            [31,\n             {name: \"視界不良\",\n              text: \"頭部に受けた傷から血が流れ、視界がふさがれる。\",\n              damage: \"重傷３／スタン\"}],\n            [34,\n             {name: \"胸部負傷\",\n              text: \"胸から腰にかけて大きく切り裂かれる。\",\n              damage: \"致命傷1\"}],\n            [37,\n             {name: \"動脈切断\",\n              text: \"動脈が切り裂かれ、噴き出るように出血する。\",\n              damage: \"致命傷1／ＤＯＴ：軽傷３\"}],\n            [39,\n             {name: \"胸部切断\",\n              text: \"傷が肺にまで達し、喀血する。\",\n              damage: \"致命傷２\"}],\n            [9999,\n             {name: \"脊髄損傷\",\n              text: \"脊髄が損傷する。\",\n              damage: \"致命傷２／放心、スタン、マヒ\"}],\n          ]\n        },\n\n        \"BL\" => {\n          name: \"銃弾\",\n          table: [\n            [5,\n             {name: \"腕部損傷\",\n              text: \"銃弾が腕をかすめた。\",\n              damage: \"軽傷２\"}],\n            [10,\n             {name: \"腕部貫通\",\n              text: \"銃弾が腕を貫く。痛みはあるが動作に支障はない。\",\n              damage: \"軽傷３\"}],\n            [13,\n             {name: \"胴部負傷\",\n              text: \"胴部に銃弾をくらう。痛みで動きが鈍くなる。\",\n              damage: \"軽傷４／スロウ：－３\"}],\n            [16,\n             {name: \"肩負傷\",\n              text: \"肩を貫かれる。骨が砕けたようだ。\",\n              damage: \"重傷1\"}],\n            [19,\n             {name: \"腹部負傷\",\n              text: \"腹部が貫かれる。かろうじて内臓にダメージはないようだ。\",\n              damage: \"重傷２\"}],\n            [22,\n             {name: \"脚部貫通\",\n              text: \"脚を銃弾に貫かれ、その場でひざまずく。\",\n              damage: \"重傷２／マヒ\"}],\n            [25,\n             {name: \"消化器系損傷\",\n              text: \"胃などの消化器官にダメージを受ける。\",\n              damage: \"重傷３\"}],\n            [28,\n             {name: \"盲管銃弾\",\n              text: \"身体に弾丸が深々と刺さる。激痛が走る。\",\n              damage: \"重傷３／スロウ：－5\"}],\n            [31,\n             {name: \"内臓損傷\",\n              text: \"いくつかの内臓にダメージを受ける。\",\n              damage: \"致命傷1／スタン\"}],\n            [34,\n             {name: \"胴部貫通\",\n              text: \"腹部への攻撃が貫通し、出血する。\",\n              damage: \"致命傷1／ＤＯＴ：軽傷1\"}],\n            [37,\n             {name: \"胸部負傷\",\n              text: \"銃弾で肺を貫かれる。\",\n              damage: \"致命傷２\"}],\n            [39,\n             {name: \"致命的な一撃\",\n              text: \"銃弾が頭部に命中。ショックで意識を飛ばされる。\",\n              damage: \"致命傷２／放心\"}],\n            [9999,\n             {name: \"必殺の一撃\",\n              text: \"銃弾が心臓の近くを貫く。動脈にダメージを受けたようだ。\",\n              damage: \"致命傷２／ＤＯＴ：重傷1\"}],\n          ]\n        },\n\n        \"IM\" => {\n          name: \"衝撃\",\n          table: [\n            [5,\n             {name: \"打撲\",\n              text: \"攻撃を受けた箇所がどす黒く腫れ上がる。\",\n              damage: \"軽傷1\"}],\n            [10,\n             {name: \"転倒\",\n              text: \"衝撃で転倒する。\",\n              damage: \"軽傷1／マヒ\"}],\n            [13,\n             {name: \"平衡感覚喪失\",\n              text: \"衝撃で三半規管にダメージを受ける。\",\n              damage: \"軽傷２、疲労２\"}],\n            [16,\n             {name: \"ボディーブロー\",\n              text: \"腹部に直撃。痛みが継続し、体力を奪う。\",\n              damage: \"軽傷３／ＤＯＴ：疲労３\"}],\n            [19,\n             {name: \"痛打\",\n              text: \"胴部や脚部などに打撃を受ける。\",\n              damage: \"軽傷４／スタン\"}],\n            [22,\n             {name: \"頭部痛打\",\n              text: \"頭部にクリーンヒット。意識がもうろうとする。\",\n              damage: \"軽傷5／放心\"}],\n            [25,\n             {name: \"脚部骨折\",\n              text: \"攻撃が足に命中し、骨折する。\",\n              damage: \"重傷1／スロウ：－5\"}],\n            [28,\n             {name: \"大転倒\",\n              text: \"激しい衝撃によって、負傷すると共に大きく体勢を崩す。\",\n              damage: \"重傷1／マヒ、スタン\"}],\n            [31,\n             {name: \"脳震盪\",\n              text: \"脳が大きく揺さぶられ、意識が飛びそうになる。\",\n              damage: \"重傷２／放心\"}],\n            [34,\n             {name: \"複雑骨折\",\n              text: \"攻撃を受けた部分が大きくひしゃげ、複雑骨折したようだ。\",\n              damage: \"重傷３／放心、スタン\"}],\n            [37,\n             {name: \"頭部裂傷\",\n              text: \"頭部に命中。皮膚が大きく裂ける。\",\n              damage: \"致命傷1、疲労３\"}],\n            [39,\n             {name: \"肋骨負傷\",\n              text: \"折れた肋骨が肺に突き刺さり、まともに呼吸を行なうことができない。\",\n              damage: \"致命傷1／放心、スタン\"}],\n            [9999,\n             {name: \"内臓損傷\",\n              text: \"衝撃が身体の芯まで届き、内臓がいくつか傷ついたようだ。\",\n              damage: \"致命傷２／ＤＯＴ：重傷1\"}],\n          ]\n        },\n\n        \"BR\" => {\n          name: \"灼熱\",\n          table: [\n            [5,\n             {name: \"火傷\",\n              text: \"皮膚に小さな火傷を負う。\",\n              damage: \"軽傷1\"}],\n            [10,\n             {name: \"温度上昇\",\n              text: \"熱によって、怪我だけではなく体力も奪われる。\",\n              damage: \"軽傷２、疲労1\"}],\n            [13,\n             {name: \"恐怖\",\n              text: \"燃え上がる炎に恐怖を感じ、身体がすくんで動きが止まる。\",\n              damage: \"軽傷３／放心\"}],\n            [16,\n             {name: \"発火\",\n              text: \"衣服や身体の一部に火が燃え移る。\",\n              damage: \"軽傷３／ＤＯＴ：軽傷1\"}],\n            [19,\n             {name: \"爆発\",\n              text: \"爆発により吹き飛ばされ、転倒する。\",\n              damage: \"重傷1／マヒ\"}],\n            [22,\n             {name: \"大火傷\",\n              text: \"痕が残るほどの大きな火傷を負う。\",\n              damage: \"重傷２\"}],\n            [25,\n             {name: \"熱波\",\n              text: \"火傷と強力な熱により意識がもうろうとする。\",\n              damage: \"重傷２／スタン\"}],\n            [28,\n             {name: \"大爆発\",\n              text: \"激しい爆発で吹き飛ばされ、ダメージと共に転倒する。\",\n              damage: \"重傷３／マヒ\"}],\n            [31,\n             {name: \"大発火\",\n              text: \"広範囲に火が燃え移る。\",\n              damage: \"重傷３／ＤＯＴ：軽傷1\"}],\n            [34,\n             {name: \"炭化\",\n              text: \"高熱のあまり、焼けた部分が炭化してしまう。\",\n              damage: \"致命傷1\"}],\n            [37,\n             {name: \"内臓火傷\",\n              text: \"高温の空気を吸い込む、気道にも火傷を負ってしまう。\",\n              damage: \"致命傷1／ＤＯＴ：軽傷1\"}],\n            [39,\n             {name: \"全身火傷\",\n              text: \"身体の各所に深い火傷を負う。\",\n              damage: \"致命傷２\"}],\n            [9999,\n             {name: \"致命的火傷\",\n              text: \"身体の大部分に焼けどを負う。\",\n              damage: \"致命傷２／スタン\"}],\n          ]\n        },\n\n        \"RF\" => {\n          name: \"冷却\",\n          table: [\n            [5,\n             {name: \"冷気\",\n              text: \"軽い凍傷を受ける。\",\n              damage: \"軽傷1\"}],\n            [10,\n             {name: \"霜の衣\",\n              text: \"身体が薄い氷で覆われ、動きが鈍る。\",\n              damage: \"軽傷1／疲労1\"}],\n            [13,\n             {name: \"凍傷\",\n              text: \"凍傷により身体が傷つけられる。\",\n              damage: \"軽傷２\"}],\n            [16,\n             {name: \"体温低下\",\n              text: \"冷気によって体温を奪われる。\",\n              damage: \"軽傷３／ＤＯＴ：疲労1\"}],\n            [19,\n             {name: \"氷の枷\",\n              text: \"肘や膝などが氷で覆われ、動きが取りにくくなる。\",\n              damage: \"重傷1／マヒ\"}],\n            [22,\n             {name: \"大凍傷\",\n              text: \"身体の各所に凍傷を受ける。\",\n              damage: \"重傷1／ＤＯＴ：疲労２\"}],\n            [25,\n             {name: \"氷の束縛\",\n              text: \"下半身が凍りつき、動くことができない。\",\n              damage: \"重傷２／マヒ\"}],\n            [28,\n             {name: \"視界不良\",\n              text: \"頭部にも氷が張り、視界がふさがれる。\",\n              damage: \"重傷２／スタン\"}],\n            [31,\n             {name: \"腕部凍結\",\n              text: \"腕が凍りづけになり、動かすことができない。\",\n              damage: \"重傷３／放心\"}],\n            [34,\n             {name: \"重度凍傷\",\n              text: \"さらに体温が低下し、深刻な凍傷を受ける。\",\n              damage: \"致命傷1\"}],\n            [37,\n             {name: \"全身凍結\",\n              text: \"全身が凍りづけになる。\",\n              damage: \"致命傷1／ＤＯＴ：疲労２\"}],\n            [39,\n             {name: \"致命的凍傷\",\n              text: \"身体全身に凍傷を受ける。\",\n              damage: \"致命傷２\"}],\n            [9999,\n             {name: \"氷の棺\",\n              text: \"完全に氷に閉じ込められる。\",\n              damage: \"致命傷２／スタン、マヒ\"}],\n          ]\n        },\n\n        \"EL\" => {\n          name: \"電撃\",\n          table: [\n            [5,\n             {name: \"静電気\",\n              text: \"全身の毛が逆立つ。\",\n              damage: \"疲労３\"}],\n            [10,\n             {name: \"電熱傷\",\n              text: \"電流によって傷つく。\",\n              damage: \"疲労1、軽傷1\"}],\n            [13,\n             {name: \"感電\",\n              text: \"電流で傷つくと共に、身体が軽くしびれる。\",\n              damage: \"疲労２、軽傷２\"}],\n            [16,\n             {name: \"閃光\",\n              text: \"激しい電光により、一時的に視界がふさがれる。\",\n              damage: \"軽傷３／スタン\"}],\n            [19,\n             {name: \"脚部感電\",\n              text: \"電流により脚がしびれ、動けなくなる。\",\n              damage: \"重傷1／マヒ\"}],\n            [22,\n             {name: \"大電熱傷\",\n              text: \"身体の各所が電流によって傷つく。\",\n              damage: \"疲労２、重傷２\"}],\n            [25,\n             {name: \"腕部負傷\",\n              text: \"電流で腕がしびれ、動けなくなる。\",\n              damage: \"軽傷1、重傷２／放心\"}],\n            [28,\n             {name: \"大感電\",\n              text: \"電流によって身体中がしびれ、動けなくなる。\",\n              damage: \"重傷２／スタン、マヒ\"}],\n            [31,\n             {name: \"一時心停止\",\n              text: \"強力な電撃のショックにより、心臓がほんの一瞬だけ止まる。\",\n              damage: \"疲労３、重傷３\"}],\n            [34,\n             {name: \"大電流\",\n              text: \"全身に電流が駆け巡る。\",\n              damage: \"重傷３／放心、マヒ\"}],\n            [37,\n             {name: \"致命電熱傷\",\n              text: \"全身が電流によって傷つく。\",\n              damage: \"重傷1、致命傷1\"}],\n            [39,\n             {name: \"心停止\",\n              text: \"強力な電撃のショックにより、心臓が一時的に止まる。死の淵が見える。\",\n              damage: \"疲労３、重傷1、致命傷1\"}],\n            [9999,\n             {name: \"組織炭化\",\n              text: \"全身が電流で焼かれ、あちこちの組織が炭化する。\",\n              damage: \"致命傷２／スタン\"}],\n          ]\n        }\n      }.freeze\n    end\n  end\nend\n"], :names=>["<top (required)>", "<module:BCDice>", "<module:GameSystem>", "<class:GardenOrder>", "self", "register_prefix", "eval_game_system_specific_command", "command", "$ret_or_1", "success_rate", "Regexp", "last_match", "1", "to_i", "repeat_count", "$ret_or_2", "3", "critical_border_text", "5", "critical_border", "get_critical_border", "check_roll_repeat_attack", "type", "damage_value", "2", "look_up_damage_chart", "nil?", "/", "max", "success_rate_per_one", ">", "<", "50", "check_roll", "0", "fumble_border", "100", "96", "99", "dice_value", "@randomizer", "roll_once", "result", "get_check_result", "text=", "text", ">=", "Result", "fumble", "<=", "critical", "success", "failure", "get_damage_table_info_by_type", "name", "table", "row", "get_table_by_number", "[]", "data", "DAMAGE_TABLE", "10", "13", "16", "19", "22", "25", "28", "31", "34", "37", "39", "9999", "freeze", "Base"], :mappings=>"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"}}, {:offset=>{:line=>127, :column=>0}, :map=>{:version=>3, :sourceRoot=>"", :sources=>["bcdice/game_system/ScreamHighSchool.rb"], :sourcesContent=>["# frozen_string_literal: true\n\nrequire 'bcdice/game_system/GardenOrder'\n\nmodule BCDice\n  module GameSystem\n    class ScreamHighSchool < GardenOrder\n      # ゲームシステムの識別子\n      ID = 'ScreamHighSchool'\n\n      # ゲームシステム名\n      NAME = 'スクリームハイスクール'\n\n      # ゲームシステム名の読みがな\n      SORT_KEY = 'すくりいむはいすくうる'\n\n      # ダイスボットの使い方\n      HELP_MESSAGE = <<~INFO_MESSAGE_TEXT\n        ・基本判定\n        　SHx/y@z　x：成功率、y：連続攻撃回数（省略可）、z：クリティカル値（省略可）\n        　（連続攻撃では1回の判定のみが実施されます）\n        　例）SH55　SH(40-20) SH100/2　SH70@10　SH155/3@44\n        ・感情判定\n        　EMx@z　x：成功率、z：クリティカル値（省略可）\n        　例）EM50　EM50@15\n        ・性格傾向判定\n        　TRx@z　x：成功率、z：クリティカル値（省略可）\n        　例）TR60　TR60@15\n        ・恐怖判定\n        　FEx@z　x：成功率、z：クリティカル値（省略可）\n        　例）FE70　FE70@15\n        ・負傷表\n        　DCxxy\n        　xx：属性（切断：SL，銃弾：BL，衝撃：IM，灼熱：BR，冷却：RF，電撃：EL）\n        　y：ダメージ\n        　例）DCSL7　DCEL22\n      INFO_MESSAGE_TEXT\n\n      register_prefix(\n        '(SH|SHS)',\n        '(EM|TR|FE)',\n        'DC(SL|BL|IM|BR|RF|EL).+'\n      )\n\n      def eval_game_system_specific_command(command)\n        case command\n        when /(EM|TR|FE)(-?\\d+)(@(\\d+))?/i\n          command_type = Regexp.last_match(1).upcase\n          success_rate = Regexp.last_match(2).to_i\n          critical_border_text = Regexp.last_match(4)\n          critical_border = get_critical_border(critical_border_text, success_rate)\n\n          return check_roll_sh(success_rate, critical_border, command_type)\n        when %r{(SH|SHS)(-?\\d+)(/(\\d+))?(@(\\d+))?}i\n          success_rate = Regexp.last_match(2).to_i\n          repeat_count = (Regexp.last_match(4) || 1).to_i\n          critical_border_text = Regexp.last_match(6)\n          critical_border = get_critical_border(critical_border_text, success_rate)\n\n          return check_roll_repeat_attack(success_rate, repeat_count, critical_border)\n        when /^DC(SL|BL|IM|BR|RF|EL)(\\d+)/i\n          type = Regexp.last_match(1)\n          damage_value = Regexp.last_match(2).to_i\n          return look_up_damage_chart(type, damage_value)\n        end\n\n        return nil\n      end\n\n      def check_roll_sh(success_rate, critical_border, command_type)\n        success_rate = 0 if success_rate < 0\n        fumble_border = (success_rate < 100 ? 96 : 99)\n\n        dice_value = @randomizer.roll_once(100)\n        result = get_check_result(dice_value, success_rate, critical_border, fumble_border)\n        title, supplementary = get_supplementary(command_type, result.text)\n        unless supplementary.empty?\n          supplementary = \"（\#{supplementary}）\"\n        end\n\n        result.text = \"\#{title}判定 D100<=\#{success_rate}@\#{critical_border} ＞ \#{dice_value} ＞ \#{result.text}\#{supplementary}\"\n        return result\n      end\n\n      def get_supplementary(command_type, result)\n        title = ''\n        supplementary = ''\n        case command_type\n        when 'EM'\n          title = '感情'\n          case result\n          when 'クリティカル'\n            supplementary = '次に行う判定の成功率に+50%'\n          when  '成功'\n            supplementary = '次に行う判定の成功率に+30%'\n          when  '失敗'\n            supplementary = '次に行う判定の成功率に-20%、呪縛+1点'\n          when  'ファンブル'\n            supplementary = '次に行う判定の成功率に-50%、呪縛+1D5点'\n          end\n        when 'TR'\n          title = '性格傾向'\n          case result\n          when  '失敗'\n            supplementary = '反対側の性格傾向で再判定する。あるいは、もしこれがその再判定の結果であればプレイヤーが性格傾向を選択する'\n          when  'ファンブル'\n            supplementary = '反対側の性格傾向に従い、呪縛+1D5点する。あるいは、もしこれが失敗後の再判定の結果だった場合、PCは混乱し行動を放棄するか逃げ出す。呪縛+2点'\n          else\n            supplementary = '判定した性格傾向に従う'\n          end\n        when 'FE'\n          title = '恐怖'\n          case result\n          when  '成功'\n            supplementary = 'ショックを受け流した。恐怖判定効果表の成功側の値分、呪縛が上昇する'\n          when  '失敗'\n            supplementary = 'ショックを受けた。恐怖判定効果表の失敗側の値分、呪縛が上昇する'\n          when  'ファンブル'\n            supplementary = '深いショックを受けた。恐怖判定効果表の失敗側の値分に加え、さらに1D5点分、呪縛が上昇する'\n          else\n            supplementary = '何もショックを受けなかった'\n          end\n        end\n        return title, supplementary\n      end\n    end\n  end\nend\n"], :names=>["<main>", "self", "require", "<module:BCDice>", "<module:GameSystem>", "<class:ScreamHighSchool>", "register_prefix", "eval_game_system_specific_command", "command", "$ret_or_1", "command_type", "Regexp", "last_match", "1", "upcase", "success_rate", "2", "to_i", "critical_border_text", "4", "critical_border", "get_critical_border", "check_roll_sh", "repeat_count", "$ret_or_2", "6", "check_roll_repeat_attack", "type", "damage_value", "look_up_damage_chart", "<", "0", "fumble_border", "100", "96", "99", "dice_value", "@randomizer", "roll_once", "result", "get_check_result", "get_supplementary", "text", "title", "supplementary", "empty?", "text=", "GardenOrder"], :mappings=>"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"}}]}