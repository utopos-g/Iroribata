{:version=>3, :sections=>[{:offset=>{:line=>0, :column=>0}, :map=>{:version=>3, :sourceRoot=>"", :sources=>["bcdice/game_system/Pendragon.rb"], :sourcesContent=>["# frozen_string_literal: true\n\nmodule BCDice\n  module GameSystem\n    class Pendragon < Base\n      # ゲームシステムの識別子\n      ID = 'Pendragon'\n\n      # ゲームシステム名\n      NAME = 'ペンドラゴン'\n\n      # ゲームシステム名の読みがな\n      SORT_KEY = 'へんとらこん'\n\n      # ダイスボットの使い方\n      HELP_MESSAGE = <<~INFO_MESSAGE_TEXT\n        クリティカル、成功、失敗、ファンブルの自動判定を行います。\n      INFO_MESSAGE_TEXT\n\n      # ゲーム別成功度判定(1d20)\n      def result_1d20(total, _dice_total, cmp_op, target)\n        return Result.nothing if target == '?'\n        return nil unless cmp_op == :<=\n\n        if total <= target\n          if (total >= (40 - target)) || (total == target)\n            Result.critical(\"クリティカル\")\n          else\n            Result.success(\"成功\")\n          end\n        elsif total == 20\n          Result.fumble(\"ファンブル\")\n        else\n          Result.failure(\"失敗\")\n        end\n      end\n    end\n  end\nend\n"], :names=>["<main>", "<module:BCDice>", "<module:GameSystem>", "<class:Pendragon>", "result_1d20", "total", "_dice_total", "cmp_op", "target", "Result", "nothing", "<=", ">=", "-", "40", "critical", "success", "20", "fumble", "failure", "Base"], :mappings=>"AAAAA,2BAAAA;EAAAA;;EAEAA,OAAAC;EAAAA;;IAAAA;;IACEA,OAAAC;IAAAA;;MAAAA;;MACEA,OAAAC;MAAAA;;QAAAA;;;QAEE,8BAAKA,WAAL;QAGA,gCAAOA,QAAP;QAGA,oCAAWA,QAAX;QAGA,wCAAeA,iCAAf;QAKAA,OAAAC,2BAAAA,uBAAgBC,KAAD,EAAQC,WAAR,EAAqBC,MAArB,EAA6BC,MAA5CJ;AAAAA;;UACE,IAAA,MAAyBI,MAAzB,EAAmCJ,GAAnC,CAAA;YAAA,OAAOK,YAAMC,SAAAA,CAAAA;UAAb;UACA,KAAA,MAAkBH,MAAlB,EAA4B,IAA5B,CAAA;YAAA,OAAO;UAAP;UAEA,IAAA,QAASI,OAANN,KAAMM,EAAGH,MAAHG,CAAT,CAAA;YACE,IAAG,CAAA,QAAOC,OAANP,KAAMO,EAAOC,UAAHC,EAAGD,EAAEL,MAAFK,CAAPD,CAAP,CAAA,IAAA,CAAA,MAA6BP,KAA7B,EAAsCG,MAAtC,CAAA,CAAA,CAAH;cACEJ,OAAAK,YAAMM,UAAAA,CAAUX,QAAVW;YADR;cAGEX,OAAAK,YAAMO,SAAAA,CAASZ,IAATY;YAHR;UADF,OAMA,IAAA,MAAMX,KAAN,EAAeY,EAAf,CAAA;YACEb,OAAAK,YAAMS,QAAAA,CAAQd,OAARc;UADR;YAGEd,OAAAK,YAAMU,SAAAA,CAASf,IAATe;UAHR;QAVFf,CAAAA;MAhBFD,GAAAA,WAAAA,EAAkBiB,UAAlBjB;IADFD,GAAAA,WAAAA;EADFD,GAAAA,WAAAA;AAFAD;"}}]}